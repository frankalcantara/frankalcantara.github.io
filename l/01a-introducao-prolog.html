<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Introdução à Programação Lógica - 3&nbsp; Introdução Prática ao Prolog com Swish</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./02-fundamentos-logica-proposicional.html" rel="next">
<link href="./01-jornada-programacao-logica.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles/custom.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./01-jornada-programacao-logica.html">Fundamentos da Lógica</a></li><li class="breadcrumb-item"><a href="./01a-introducao-prolog.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Introdução Prática ao Prolog com Swish</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Introdução à Programação Lógica</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/frankalcantara/logica" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Apresentação</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Fundamentos da Lógica</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-jornada-programacao-logica.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introdução ao Paradigma da Programação Lógica</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01a-introducao-prolog.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Introdução Prática ao Prolog com Swish</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-fundamentos-logica-proposicional.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Lógica de Primeira Ordem: Lógica Proposicional</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-arte-da-prova-e-analise-de-argumentos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">A Arte da Prova e Análise de Argumentos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-logica-predicativa-e-quantificadores.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Lógica de Primeira Ordem: Lógica Predicativa</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Aplicações Avançadas</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-formas-normais-e-skolemizacao.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Formas Normais: Estruturas de Solução</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-clausulas-de-horn-e-prolog.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Formas Clausais e A Cláusula de Horn</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-construcao-de-mundos-logicos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Raciocínio Algorítmico: Criando Mundos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07a-criando-mundos-praticas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Criando Mundos: Práticas 2025</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07b-inferencia-prolog.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Desvendando o Processo de Inferência do Prolog</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-verificacao-formal-de-programas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Verificação Formal de Programas: Lógica de Hoare e Indução Estrutural</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-desafios-logicos-enigmas-e-misterios.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Desafios, Problemas e Mistérios</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Solução dos Exercícios</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-Sol-Proposicional.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Lógica Proposicional </span></span></a><a href="02-fundamentos-logica-proposicional.html" class="quarto-xref"><span>Chapter 4</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-Sol-Predicativa.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Lógica Predicativa </span></span></a><a href="04-logica-predicativa-e-quantificadores.html" class="quarto-xref"><span>Chapter 6</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-Sol-Normais.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Formas Normais Proposicionais </span></span></a><a href="05-formas-normais-e-skolemizacao.html" class="quarto-xref"><span>Chapter 7</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apendice-a-glossario.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Glossário</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apendice-b-referencias.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Referências</span></span></a>
  </div>
</li>
    </ul>
    </div>
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Sumário</h2>
   
  <ul>
  <li><a href="#o-que-é-prolog" id="toc-o-que-é-prolog" class="nav-link active" data-scroll-target="#o-que-é-prolog"><span class="header-section-number">3.1</span> O que é Prolog?</a>
  <ul class="collapse">
  <li><a href="#paradigma-declarativo-vs.-imperativo" id="toc-paradigma-declarativo-vs.-imperativo" class="nav-link" data-scroll-target="#paradigma-declarativo-vs.-imperativo"><span class="header-section-number">3.1.1</span> Paradigma Declarativo vs.&nbsp;Imperativo</a></li>
  <li><a href="#fundamentos-teóricos" id="toc-fundamentos-teóricos" class="nav-link" data-scroll-target="#fundamentos-teóricos"><span class="header-section-number">3.1.2</span> Fundamentos Teóricos</a></li>
  <li><a href="#como-acessar-o-swish.swi-prolog" id="toc-como-acessar-o-swish.swi-prolog" class="nav-link" data-scroll-target="#como-acessar-o-swish.swi-prolog"><span class="header-section-number">3.1.3</span> Como Acessar o SWISH.SWI-Prolog</a></li>
  </ul></li>
  <li><a href="#estrutura-básica-do-prolog-cláusulas-de-horn" id="toc-estrutura-básica-do-prolog-cláusulas-de-horn" class="nav-link" data-scroll-target="#estrutura-básica-do-prolog-cláusulas-de-horn"><span class="header-section-number">3.2</span> Estrutura Básica do Prolog: Cláusulas de Horn</a>
  <ul class="collapse">
  <li><a href="#fatos-cláusulas-unitárias" id="toc-fatos-cláusulas-unitárias" class="nav-link" data-scroll-target="#fatos-cláusulas-unitárias"><span class="header-section-number">3.2.1</span> Fatos (Cláusulas Unitárias)</a></li>
  <li><a href="#regras-cláusulas-definidas" id="toc-regras-cláusulas-definidas" class="nav-link" data-scroll-target="#regras-cláusulas-definidas"><span class="header-section-number">3.2.2</span> Regras (Cláusulas Definidas)</a></li>
  <li><a href="#consultas-goals" id="toc-consultas-goals" class="nav-link" data-scroll-target="#consultas-goals"><span class="header-section-number">3.2.3</span> Consultas (Goals)</a></li>
  </ul></li>
  <li><a href="#sintaxe-e-semântica-formal" id="toc-sintaxe-e-semântica-formal" class="nav-link" data-scroll-target="#sintaxe-e-semântica-formal"><span class="header-section-number">3.3</span> Sintaxe e Semântica Formal</a>
  <ul class="collapse">
  <li><a href="#termos-e-estruturas-de-dados" id="toc-termos-e-estruturas-de-dados" class="nav-link" data-scroll-target="#termos-e-estruturas-de-dados"><span class="header-section-number">3.3.1</span> Termos e Estruturas de Dados</a></li>
  <li><a href="#operadores-e-conectivos-lógicos" id="toc-operadores-e-conectivos-lógicos" class="nav-link" data-scroll-target="#operadores-e-conectivos-lógicos"><span class="header-section-number">3.3.2</span> Operadores e Conectivos Lógicos</a></li>
  <li><a href="#comentários" id="toc-comentários" class="nav-link" data-scroll-target="#comentários"><span class="header-section-number">3.3.3</span> Comentários</a></li>
  </ul></li>
  <li><a href="#unificação-o-coração-do-prolog" id="toc-unificação-o-coração-do-prolog" class="nav-link" data-scroll-target="#unificação-o-coração-do-prolog"><span class="header-section-number">3.4</span> Unificação: O Coração do Prolog</a>
  <ul class="collapse">
  <li><a href="#algoritmo-de-unificação-robinson-1965" id="toc-algoritmo-de-unificação-robinson-1965" class="nav-link" data-scroll-target="#algoritmo-de-unificação-robinson-1965"><span class="header-section-number">3.4.1</span> Algoritmo de Unificação (Robinson, 1965)</a></li>
  </ul></li>
  <li><a href="#backtracking-e-espaço-de-busca" id="toc-backtracking-e-espaço-de-busca" class="nav-link" data-scroll-target="#backtracking-e-espaço-de-busca"><span class="header-section-number">3.5</span> Backtracking e Espaço de Busca</a>
  <ul class="collapse">
  <li><a href="#mecanismo-de-escolha-e-retrocesso" id="toc-mecanismo-de-escolha-e-retrocesso" class="nav-link" data-scroll-target="#mecanismo-de-escolha-e-retrocesso"><span class="header-section-number">3.5.1</span> Mecanismo de Escolha e Retrocesso</a></li>
  <li><a href="#cut---controle-de-backtracking" id="toc-cut---controle-de-backtracking" class="nav-link" data-scroll-target="#cut---controle-de-backtracking"><span class="header-section-number">3.5.2</span> Cut (!) - Controle de Backtracking</a></li>
  </ul></li>
  <li><a href="#resolução-sld-e-árvores-de-prova" id="toc-resolução-sld-e-árvores-de-prova" class="nav-link" data-scroll-target="#resolução-sld-e-árvores-de-prova"><span class="header-section-number">3.6</span> Resolução SLD e Árvores de Prova</a>
  <ul class="collapse">
  <li><a href="#processo-de-resolução" id="toc-processo-de-resolução" class="nav-link" data-scroll-target="#processo-de-resolução"><span class="header-section-number">3.6.1</span> Processo de Resolução</a></li>
  <li><a href="#árvore-de-derivação-sld" id="toc-árvore-de-derivação-sld" class="nav-link" data-scroll-target="#árvore-de-derivação-sld"><span class="header-section-number">3.6.2</span> Árvore de Derivação SLD</a></li>
  <li><a href="#complexidade-e-limitações" id="toc-complexidade-e-limitações" class="nav-link" data-scroll-target="#complexidade-e-limitações"><span class="header-section-number">3.6.3</span> Complexidade e Limitações</a></li>
  </ul></li>
  <li><a href="#executando-código-no-swish" id="toc-executando-código-no-swish" class="nav-link" data-scroll-target="#executando-código-no-swish"><span class="header-section-number">3.7</span> Executando Código no SWISH</a>
  <ul class="collapse">
  <li><a href="#passo-1-escrever-o-programa" id="toc-passo-1-escrever-o-programa" class="nav-link" data-scroll-target="#passo-1-escrever-o-programa"><span class="header-section-number">3.7.1</span> Passo 1: Escrever o Programa</a></li>
  <li><a href="#passo-2-salvar-e-carregar" id="toc-passo-2-salvar-e-carregar" class="nav-link" data-scroll-target="#passo-2-salvar-e-carregar"><span class="header-section-number">3.7.2</span> Passo 2: Salvar e Carregar</a></li>
  <li><a href="#passo-3-fazer-consultas" id="toc-passo-3-fazer-consultas" class="nav-link" data-scroll-target="#passo-3-fazer-consultas"><span class="header-section-number">3.7.3</span> Passo 3: Fazer Consultas</a></li>
  </ul></li>
  <li><a href="#interpretando-respostas" id="toc-interpretando-respostas" class="nav-link" data-scroll-target="#interpretando-respostas"><span class="header-section-number">3.8</span> Interpretando Respostas</a>
  <ul class="collapse">
  <li><a href="#respostas-simples" id="toc-respostas-simples" class="nav-link" data-scroll-target="#respostas-simples"><span class="header-section-number">3.8.1</span> Respostas Simples</a></li>
  <li><a href="#respostas-com-variáveis" id="toc-respostas-com-variáveis" class="nav-link" data-scroll-target="#respostas-com-variáveis"><span class="header-section-number">3.8.2</span> Respostas com Variáveis</a></li>
  <li><a href="#múltiplas-soluções" id="toc-múltiplas-soluções" class="nav-link" data-scroll-target="#múltiplas-soluções"><span class="header-section-number">3.8.3</span> Múltiplas Soluções</a></li>
  <li><a href="#forçando-múltiplas-respostas" id="toc-forçando-múltiplas-respostas" class="nav-link" data-scroll-target="#forçando-múltiplas-respostas"><span class="header-section-number">3.8.4</span> Forçando Múltiplas Respostas</a></li>
  </ul></li>
  <li><a href="#aplicações-em-ciência-da-computação" id="toc-aplicações-em-ciência-da-computação" class="nav-link" data-scroll-target="#aplicações-em-ciência-da-computação"><span class="header-section-number">3.9</span> Aplicações em Ciência da Computação</a>
  <ul class="collapse">
  <li><a href="#sistemas-especialistas-e-representação-de-conhecimento" id="toc-sistemas-especialistas-e-representação-de-conhecimento" class="nav-link" data-scroll-target="#sistemas-especialistas-e-representação-de-conhecimento"><span class="header-section-number">3.9.1</span> 1. Sistemas Especialistas e Representação de Conhecimento</a></li>
  <li><a href="#processamento-de-linguagem-natural" id="toc-processamento-de-linguagem-natural" class="nav-link" data-scroll-target="#processamento-de-linguagem-natural"><span class="header-section-number">3.9.2</span> 2. Processamento de Linguagem Natural</a></li>
  </ul></li>
  <li><a href="#limitações-e-considerações-de-performance" id="toc-limitações-e-considerações-de-performance" class="nav-link" data-scroll-target="#limitações-e-considerações-de-performance"><span class="header-section-number">3.10</span> Limitações e Considerações de Performance</a>
  <ul class="collapse">
  <li><a href="#complexidade-computacional" id="toc-complexidade-computacional" class="nav-link" data-scroll-target="#complexidade-computacional"><span class="header-section-number">3.10.1</span> Complexidade Computacional</a></li>
  <li><a href="#otimizações-modernas" id="toc-otimizações-modernas" class="nav-link" data-scroll-target="#otimizações-modernas"><span class="header-section-number">3.10.2</span> Otimizações Modernas</a></li>
  <li><a href="#boas-práticas-para-eficiência" id="toc-boas-práticas-para-eficiência" class="nav-link" data-scroll-target="#boas-práticas-para-eficiência"><span class="header-section-number">3.10.3</span> Boas Práticas para Eficiência</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/frankalcantara/logica/edit/main/01a-introducao-prolog.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/frankalcantara/logica/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./01-jornada-programacao-logica.html">Fundamentos da Lógica</a></li><li class="breadcrumb-item"><a href="./01a-introducao-prolog.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Introdução Prática ao Prolog com Swish</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Introdução Prática ao Prolog com Swish</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="o-que-é-prolog" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="o-que-é-prolog"><span class="header-section-number">3.1</span> O que é Prolog?</h2>
<p>O <strong>Prolog</strong> (<strong>Pro</strong>gramming in <strong>Log</strong>ic) é uma linguagem de programação declarativa baseada na lógica de primeira ordem e no princípio de Resolução SLD (<em>Selective Linear Definite clause resolution</em>). Desenvolvida por <a href="https://en.wikipedia.org/wiki/Alain_Colmerauer">Alain Colmerauer</a> e Philippe Roussel na Universidade de Marselha em 1972, representa um paradigma fundamentalmente diferente das linguagens imperativas tradicionais.</p>
<section id="paradigma-declarativo-vs.-imperativo" class="level3" data-number="3.1.1">
<h3 data-number="3.1.1" class="anchored" data-anchor-id="paradigma-declarativo-vs.-imperativo"><span class="header-section-number">3.1.1</span> Paradigma Declarativo vs.&nbsp;Imperativo</h3>
<p>Em linguagens <strong>imperativas</strong> (C, Java, Python), o programador especifica <em>como</em> resolver um problema através de uma sequência de comandos que modificam o estado do programa. Em <strong>Prolog</strong>, o programador especifica <em>o que</em> constitui uma solução através de:</p>
<ul>
<li><strong>Fatos</strong>: Afirmações básicas sobre o domínio do problema</li>
<li><strong>Regras</strong>: Relações lógicas entre fatos</li>
<li><strong>Consultas</strong>: Perguntas sobre o que pode ser deduzido</li>
</ul>
<p>O interpretador Prolog utiliza um mecanismo de inferência baseado em <strong>resolução</strong> e <strong>backtracking</strong> para encontrar provas construtivas, isto é, não apenas determina se uma afirmação é verdadeira, mas também fornece os valores das variáveis que a tornam verdadeira.</p>
</section>
<section id="fundamentos-teóricos" class="level3" data-number="3.1.2">
<h3 data-number="3.1.2" class="anchored" data-anchor-id="fundamentos-teóricos"><span class="header-section-number">3.1.2</span> Fundamentos Teóricos</h3>
<p>O Prolog baseia-se na correspondência entre:</p>
<ul>
<li><strong>Lógica de primeira ordem</strong> → Expressividade para representar conhecimento;</li>
<li><strong>Cláusulas de Horn</strong> → Subconjunto da lógica de primeira ordem que permite um mecanismo de prova eficiente;</li>
<li><strong>Princípio de resolução</strong> → Método de prova por refutação;</li>
<li><strong>Mundo fechado (<em>Closed World Assumption</em>)</strong> → O que não pode ser provado é falso.</li>
</ul>
<p>Para nossos propósitos práticos, utilizaremos o <strong>SWISH</strong>, uma interface web que implementa o interpretador SWI-Prolog.</p>
<p>O <strong>SWISH</strong> (<strong>SWI</strong>-Prolog for <strong>SH</strong>aring)é uma plataforma online que permite executar código Prolog diretamente no navegador, sem necessidade de instalação. Existem vários servidores gratuitos na internet com recursos disponíveis, como compartilhamento de código, colaboração em tempo real e uma interface amigável para iniciantes. Eu uso o <a href="https://swish.swi-prolog.org/">SWI</a>. Este servidor é mantido pela comunidade SWI-Prolog, é gratuito e quase sempre está disponível.</p>
</section>
<section id="como-acessar-o-swish.swi-prolog" class="level3" data-number="3.1.3">
<h3 data-number="3.1.3" class="anchored" data-anchor-id="como-acessar-o-swish.swi-prolog"><span class="header-section-number">3.1.3</span> Como Acessar o SWISH.SWI-Prolog</h3>
<ol type="1">
<li>Vá para: <strong>https://swish.swi-prolog.org/</strong></li>
<li>Clique em <strong><em>Create a program</em></strong> para criar um novo programa</li>
<li>Você verá uma interface dividida em duas partes:
<ul>
<li><strong>Lado esquerdo</strong>: Editor de código no qual você escreve fatos e regras;</li>
<li><strong>Lado direito</strong>: Console de consultas no qual você faz perguntas (consultas) ao Prolog.</li>
</ul></li>
</ol>
<p>Este ambiente pode ser visto na <a href="#fig-swish-screenshot" class="quarto-xref">Figure&nbsp;<span>3.1</span></a>.</p>
<div id="fig-swish-screenshot" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-swish-screenshot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src=".\images/swish.webp" class="img-fluid figure-img"></p>
<figcaption>Screenshot do SWISH</figcaption>
</figure>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-swish-screenshot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.1: Página padrão do Swish-swi-prolog.org com o editor de código à esquerda e o console de consultas à direita.
</figcaption>
</figure>
</div>
</section>
</section>
<section id="estrutura-básica-do-prolog-cláusulas-de-horn" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="estrutura-básica-do-prolog-cláusulas-de-horn"><span class="header-section-number">3.2</span> Estrutura Básica do Prolog: Cláusulas de Horn</h2>
<p>O Prolog trabalha exclusivamente com <strong>Cláusulas de Horn</strong>, uma forma restrita de fórmulas lógicas que possuem no máximo um literal positivo. Esta restrição garante a decidibilidade e eficiência do processo de inferência.</p>
<section id="fatos-cláusulas-unitárias" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="fatos-cláusulas-unitárias"><span class="header-section-number">3.2.1</span> Fatos (Cláusulas Unitárias)</h3>
<p>Fatos são <strong>Cláusulas de Horn unitárias</strong> da forma <span class="math inline">\(P(t_1, t_2, ..., t_n)\)</span>, onde <span class="math inline">\(P\)</span> é um predicado e <span class="math inline">\(t_i\)</span> são termos. Representam conhecimento básico incondicional sobre o domínio:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">% Predicados unários</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>mamifero(gato)<span class="kw">.</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>mamifero(cachorro)<span class="kw">.</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">% Predicados binários (relações)</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>maior_que(<span class="dv">5</span><span class="kw">,</span> <span class="dv">3</span>)<span class="kw">.</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>pai(joao<span class="kw">,</span> pedro)<span class="kw">.</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co">% Predicados n-ários</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>distancia(sao_paulo<span class="kw">,</span> rio_janeiro<span class="kw">,</span> <span class="dv">400</span>)<span class="kw">.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Interpretação formal</strong>: Cada fato <span class="math inline">\(P(a_1, ..., a_n)\)</span> é interpretado como <em>é verdade que <span class="math inline">\(P(a_1, ..., a_n)\)</span></em> no modelo mínimo de Herbrand.</p>
</section>
<section id="regras-cláusulas-definidas" class="level3" data-number="3.2.2">
<h3 data-number="3.2.2" class="anchored" data-anchor-id="regras-cláusulas-definidas"><span class="header-section-number">3.2.2</span> Regras (Cláusulas Definidas)</h3>
<p>Regras são <strong>Cláusulas de Horn definidas</strong> da forma <span class="math inline">\(H \leftarrow B_1 \land B_2 \land ... \land B_n\)</span>, representadas como <code>H :- B1, B2, ..., Bn.</code> onde:</p>
<ul>
<li><strong><span class="math inline">\(H\)</span> (cabeça)</strong>: Consequente da implicação;</li>
<li><strong><span class="math inline">\(B_i\)</span> (corpo)</strong>: Antecedentes que devem ser satisfeitos;</li>
<li><strong><span class="math inline">\(\leftarrow\)</span></strong>: Implicação reversa (<em>se</em>);</li>
<li><strong><span class="math inline">\(\land\)</span></strong>: Conjunção lógica (vírgula em Prolog).</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">% Regra simples: ∀X (mamifero(X) → animal(X))</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>animal(<span class="dt">X</span>) <span class="kw">:-</span> mamifero(<span class="dt">X</span>)<span class="kw">.</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">% Regra composta: ∀X (voa(X) → ave(X) ∧ ¬pinguim(X))</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>voa(<span class="dt">X</span>) <span class="kw">:-</span> ave(<span class="dt">X</span>)<span class="kw">,</span> <span class="kw">\+</span> pinguim(<span class="dt">X</span>)<span class="kw">.</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co">% Regra recursiva: ancestral</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>ancestral(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Y</span>) <span class="kw">:-</span> pai(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Y</span>)<span class="kw">.</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>ancestral(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Z</span>) <span class="kw">:-</span> pai(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Y</span>)<span class="kw">,</span> ancestral(<span class="dt">Y</span><span class="kw">,</span> <span class="dt">Z</span>)<span class="kw">.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Semântica operacional</strong>: Para provar <span class="math inline">\(H\)</span>, o interpretador deve provar todos os <span class="math inline">\(B_i\)</span> do corpo.</p>
</section>
<section id="consultas-goals" class="level3" data-number="3.2.3">
<h3 data-number="3.2.3" class="anchored" data-anchor-id="consultas-goals"><span class="header-section-number">3.2.3</span> Consultas (Goals)</h3>
<p>Consultas são <strong>Cláusulas de Horn negativas</strong> da forma <span class="math inline">\(\leftarrow B_1 \land B_2 \land ... \land B_n\)</span>, representadas como <code>?- B1, B2, ..., Bn.</code> O interpretador tenta encontrar uma <strong>refutação</strong> da negação da consulta.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">% Consulta ground (sem variáveis)</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">?-</span> mamifero(gato)<span class="kw">.</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co">% Resposta: true/false</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co">% Consulta com variáveis livres</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">?-</span> animal(<span class="dt">X</span>)<span class="kw">.</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co">% Resposta: substituições que tornam a consulta verdadeira</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co">% Consulta conjuntiva</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="fu">?-</span> pai(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Y</span>)<span class="kw">,</span> mae(<span class="dt">Z</span><span class="kw">,</span> <span class="dt">Y</span>)<span class="kw">.</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co">% Encontra todos os X, Y, Z que satisfazem ambas as condições</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Processo de resolução</strong>: O Prolog utiliza o algoritmo SLD-resolution para encontrar uma derivação vazia, provando a consulta por contradição.</p>
</section>
</section>
<section id="sintaxe-e-semântica-formal" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="sintaxe-e-semântica-formal"><span class="header-section-number">3.3</span> Sintaxe e Semântica Formal</h2>
<section id="termos-e-estruturas-de-dados" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="termos-e-estruturas-de-dados"><span class="header-section-number">3.3.1</span> Termos e Estruturas de Dados</h3>
<p>O Prolog trabalha com uma hierarquia bem definida de <strong>termos</strong>:</p>
<section id="termos-simples" class="level4" data-number="3.3.1.1">
<h4 data-number="3.3.1.1" class="anchored" data-anchor-id="termos-simples"><span class="header-section-number">3.3.1.1</span> Termos Simples</h4>
<ul>
<li><strong>Átomos</strong>: constantes simbólicas → <code>joao</code>, <code>nil</code>, <code>[]</code>;</li>
<li><strong>Números</strong>: inteiros e reais → <code>42</code>, <code>3.14159</code>, <code>-273</code>;</li>
<li><strong>Variáveis</strong>: começam com maiúscula → <code>X</code>, <code>Lista</code>, <code>_Temp</code>;
<ul>
<li><code>_</code> = variável anônima, usada como um marcador de posição para um valor que não é relevante para o resto da cláusula.</li>
</ul></li>
</ul>
</section>
<section id="termos-compostos" class="level4" data-number="3.3.1.2">
<h4 data-number="3.3.1.2" class="anchored" data-anchor-id="termos-compostos"><span class="header-section-number">3.3.1.2</span> Termos Compostos</h4>
<ul>
<li><strong>Estruturas</strong>: <code>functor(arg1, arg2, ..., argN)</code>;</li>
<li><strong>Listas</strong>: <code>[H|T]</code> onde H é cabeça e T é cauda;</li>
<li><strong>Strings</strong>: <code>_texto_</code> (lista de códigos ASCII).</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">% Estruturas complexas</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>pessoa(nome(joao<span class="kw">,</span> silva)<span class="kw">,</span> idade(<span class="dv">25</span>)<span class="kw">,</span> endereco(rua(x)<span class="kw">,</span> numero(<span class="dv">123</span>)))<span class="kw">.</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co">% Listas</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>lista_vazia([])<span class="kw">.</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>lista_numeros([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>])<span class="kw">.</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>lista_aninhada([[a, b], [c, d], [e]])<span class="kw">.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="operadores-e-conectivos-lógicos" class="level3" data-number="3.3.2">
<h3 data-number="3.3.2" class="anchored" data-anchor-id="operadores-e-conectivos-lógicos"><span class="header-section-number">3.3.2</span> Operadores e Conectivos Lógicos</h3>
<section id="conectivos-básicos" class="level4" data-number="3.3.2.1">
<h4 data-number="3.3.2.1" class="anchored" data-anchor-id="conectivos-básicos"><span class="header-section-number">3.3.2.1</span> Conectivos Básicos</h4>
<div class="sourceCode" id="cb5"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">% Conjunção (∧): vírgula</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>regra(<span class="dt">X</span>) <span class="kw">:-</span> condicao1(<span class="dt">X</span>)<span class="kw">,</span> condicao2(<span class="dt">X</span>)<span class="kw">.</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co">% Disjunção (∨): múltiplas cláusulas</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>opcao(<span class="dt">X</span>) <span class="kw">:-</span> caminho1(<span class="dt">X</span>)<span class="kw">.</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>opcao(<span class="dt">X</span>) <span class="kw">:-</span> caminho2(<span class="dt">X</span>)<span class="kw">.</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co">% Equivale a: opcao(X) ← caminho1(X) ∨ caminho2(X)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="negação-por-falha" class="level4" data-number="3.3.2.2">
<h4 data-number="3.3.2.2" class="anchored" data-anchor-id="negação-por-falha"><span class="header-section-number">3.3.2.2</span> Negação por Falha (<code>\+</code>)</h4>
<div class="sourceCode" id="cb6"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">% NAF (Negation as Failure) - não é negação clássica!</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>voa(<span class="dt">X</span>) <span class="kw">:-</span> ave(<span class="dt">X</span>)<span class="kw">,</span> <span class="kw">\+</span> pinguim(<span class="dt">X</span>)<span class="kw">.</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">% Lê-se: _X voa se X é ave E não pode ser provado que X é pinguim_</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co">% CUIDADO: \+ é não-monotônica</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co">% Se pinguim(tweety) for adicionado depois, voa(tweety) muda de true para false</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="operadores-de-comparação" class="level4" data-number="3.3.2.3">
<h4 data-number="3.3.2.3" class="anchored" data-anchor-id="operadores-de-comparação"><span class="header-section-number">3.3.2.3</span> Operadores de Comparação</h4>
<div class="sourceCode" id="cb7"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">% Unificação</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="dt">X</span> <span class="kw">=</span> <span class="dt">Y</span>          <span class="co">% X unifica com Y</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="dt">X</span> <span class="kw">\=</span> <span class="dt">Y</span>         <span class="co">% X não unifica com Y</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co">% Comparação aritmética (após avaliação)</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="dt">X</span> <span class="dt">=:=</span> <span class="dt">Y</span>        <span class="co">% X é aritmeticamente igual a Y</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="dt">X</span> <span class="er">=\=</span> <span class="dt">Y</span>        <span class="co">% X é aritmeticamente diferente de Y</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="dt">X</span> <span class="dt">&lt;</span> <span class="dt">Y</span><span class="kw">,</span> <span class="dt">X</span> <span class="dt">&gt;</span> <span class="dt">Y</span>   <span class="co">% Comparações numéricas</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="dt">X</span> <span class="er">=&lt;</span> <span class="dt">Y</span><span class="kw">,</span> <span class="dt">X</span> <span class="dt">&gt;=</span> <span class="dt">Y</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co">% Comparação de termos (ordem lexicográfica)</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="dt">X</span> <span class="fu">==</span> <span class="dt">Y</span>         <span class="co">% X é idêntico a Y</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="dt">X</span> <span class="fu">\==</span> <span class="dt">Y</span>        <span class="co">% X não é idêntico a Y</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="dt">X</span> <span class="fu">@&lt;</span> <span class="dt">Y</span><span class="kw">,</span> <span class="dt">X</span> <span class="fu">@&gt;</span> <span class="dt">Y</span> <span class="co">% Comparação de termos</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="comentários" class="level3" data-number="3.3.3">
<h3 data-number="3.3.3" class="anchored" data-anchor-id="comentários"><span class="header-section-number">3.3.3</span> Comentários</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">% Comentário de linha única</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co">/* Comentário</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">   de múltiplas</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co">   linhas */</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="unificação-o-coração-do-prolog" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="unificação-o-coração-do-prolog"><span class="header-section-number">3.4</span> Unificação: O Coração do Prolog</h2>
<p><strong>Unificação</strong> é o processo de encontrar substituições que tornam dois termos sintaticamente idênticos. É o mecanismo fundamental para:</p>
<ul>
<li>Passagem de parâmetros;</li>
<li>Pattern matching;</li>
<li>Resolução de consultas.</li>
</ul>
<section id="algoritmo-de-unificação-robinson-1965" class="level3" data-number="3.4.1">
<h3 data-number="3.4.1" class="anchored" data-anchor-id="algoritmo-de-unificação-robinson-1965"><span class="header-section-number">3.4.1</span> Algoritmo de Unificação (Robinson, 1965)</h3>
<p>Dados termos <span class="math inline">\(s\)</span> e <span class="math inline">\(t\)</span>, a unificação encontra o <strong>unificador mais geral (MGU)</strong> <span class="math inline">\(\theta\)</span> tal que <span class="math inline">\(s\theta = t\theta\)</span>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">% Casos básicos</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">?-</span> <span class="dt">X</span> <span class="kw">=</span> joao<span class="kw">.</span>           <span class="co">% X ← joao</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">?-</span> f(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Y</span>) <span class="kw">=</span> f(a<span class="kw">,</span> b)<span class="kw">.</span>  <span class="co">% X ← a, Y ← b</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="fu">?-</span> [<span class="dt">H</span><span class="fu">|</span><span class="dt">T</span>] <span class="kw">=</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>]<span class="kw">.</span>    <span class="co">% H ← 1, T ← [2,3]</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="co">% Unificação recursiva</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="fu">?-</span> pessoa(nome(<span class="dt">X</span>)<span class="kw">,</span> idade(<span class="dt">Y</span>)) <span class="kw">=</span> pessoa(nome(joao)<span class="kw">,</span> idade(<span class="dv">25</span>))<span class="kw">.</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co">% X ← joao, Y ← 25</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="co">% Falha de unificação</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="fu">?-</span> f(a) <span class="kw">=</span> g(a)<span class="kw">.</span>        <span class="co">% false (functors diferentes)</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="fu">?-</span> f(a<span class="kw">,</span> b) <span class="kw">=</span> f(a)<span class="kw">.</span>     <span class="co">% false (aridades diferentes)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="backtracking-e-espaço-de-busca" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="backtracking-e-espaço-de-busca"><span class="header-section-number">3.5</span> Backtracking e Espaço de Busca</h2>
<p><strong>Backtracking</strong> é a estratégia de busca sistemática que o Prolog usa para explorar todas as possíveis derivações. Implementa uma <strong>busca em profundidade com retrocesso</strong>.</p>
<section id="mecanismo-de-escolha-e-retrocesso" class="level3" data-number="3.5.1">
<h3 data-number="3.5.1" class="anchored" data-anchor-id="mecanismo-de-escolha-e-retrocesso"><span class="header-section-number">3.5.1</span> Mecanismo de Escolha e Retrocesso</h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">% Base de dados</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>gosta(maria<span class="kw">,</span> comida<span class="kw">,</span> pizza)<span class="kw">.</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>gosta(maria<span class="kw">,</span> comida<span class="kw">,</span> sushi)<span class="kw">.</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>gosta(joao<span class="kw">,</span> comida<span class="kw">,</span> pizza)<span class="kw">.</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>gosta(joao<span class="kw">,</span> bebida<span class="kw">,</span> cerveja)<span class="kw">.</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>saida(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Y</span>) <span class="kw">:-</span> gosta(<span class="dt">X</span><span class="kw">,</span> comida<span class="kw">,</span> <span class="dt">Y</span>)<span class="kw">.</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>saida(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Y</span>) <span class="kw">:-</span> gosta(<span class="dt">X</span><span class="kw">,</span> bebida<span class="kw">,</span> <span class="dt">Y</span>)<span class="kw">.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Trace da consulta</strong> <code>?- saida(maria, X).</code>:</p>
<ol type="1">
<li><strong>Ponto de escolha</strong>: primeira cláusula de <code>saida/2</code>;</li>
<li><strong>Unificação</strong>: <code>saida(maria, X)</code> com <code>saida(X, Y) :- gosta(X, comida, Y)</code>
<ul>
<li>X ← maria, Y ← X (variável da consulta);</li>
</ul></li>
<li><strong>Nova meta</strong>: <code>gosta(maria, comida, X)</code>;</li>
<li><strong>Primeira solução</strong>: X ← pizza;</li>
<li><strong>Backtrack</strong> (se solicitado): tenta próxima solução;</li>
<li><strong>Segunda solução</strong>: X ← sushi;</li>
<li><strong>Backtrack</strong>: tenta segunda cláusula de <code>saida/2</code>;</li>
<li><strong>Nova meta</strong>: <code>gosta(maria, bebida, X)</code> → <strong>falha</strong>.</li>
</ol>
</section>
<section id="cut---controle-de-backtracking" class="level3" data-number="3.5.2">
<h3 data-number="3.5.2" class="anchored" data-anchor-id="cut---controle-de-backtracking"><span class="header-section-number">3.5.2</span> Cut (!) - Controle de Backtracking</h3>
<div class="sourceCode" id="cb11"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">% Sem cut - busca exaustiva</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>max_sem_cut(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Y</span><span class="kw">,</span> <span class="dt">X</span>) <span class="kw">:-</span> <span class="dt">X</span> <span class="dt">&gt;=</span> <span class="dt">Y</span><span class="kw">.</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>max_sem_cut(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Y</span><span class="kw">,</span> <span class="dt">Y</span>) <span class="kw">:-</span> <span class="dt">Y</span> <span class="dt">&gt;</span> <span class="dt">X</span><span class="kw">.</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co">% Com cut - determinístico</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>max_com_cut(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Y</span><span class="kw">,</span> <span class="dt">X</span>) <span class="kw">:-</span> <span class="dt">X</span> <span class="dt">&gt;=</span> <span class="dt">Y</span><span class="kw">,</span> <span class="kw">!.</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>max_com_cut(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Y</span><span class="kw">,</span> <span class="dt">Y</span>)<span class="kw">.</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co">% Green cut vs Red cut</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>deterministico(<span class="dt">X</span>) <span class="kw">:-</span> condicao(<span class="dt">X</span>)<span class="kw">,</span> <span class="kw">!.</span>  <span class="co">% Green cut (não muda semântica)</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>deterministico(<span class="dt">X</span>) <span class="kw">:-</span> alternativa(<span class="dt">X</span>)<span class="kw">.</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>perigoso(<span class="dt">X</span>) <span class="kw">:-</span> condicao1(<span class="dt">X</span>)<span class="kw">,</span> <span class="kw">!,</span> acao_perigosa(<span class="dt">X</span>)<span class="kw">.</span>  <span class="co">% Red cut (muda semântica)</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>perigoso(<span class="dt">X</span>) <span class="kw">:-</span> condicao2(<span class="dt">X</span>)<span class="kw">.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="resolução-sld-e-árvores-de-prova" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="resolução-sld-e-árvores-de-prova"><span class="header-section-number">3.6</span> Resolução SLD e Árvores de Prova</h2>
<section id="processo-de-resolução" class="level3" data-number="3.6.1">
<h3 data-number="3.6.1" class="anchored" data-anchor-id="processo-de-resolução"><span class="header-section-number">3.6.1</span> Processo de Resolução</h3>
<p>O Prolog implementa <strong>SLD-resolution</strong> (Selective Linear Definite clause resolution):</p>
<ol type="1">
<li><strong>Selecionar</strong> literal do goal atual</li>
<li><strong>Unificar</strong> com cabeça de uma cláusula</li>
<li><strong>Resolver</strong> substituindo o literal pelo corpo da cláusula</li>
<li><strong>Repetir</strong> até goal vazio (sucesso) ou falha</li>
</ol>
</section>
<section id="árvore-de-derivação-sld" class="level3" data-number="3.6.2">
<h3 data-number="3.6.2" class="anchored" data-anchor-id="árvore-de-derivação-sld"><span class="header-section-number">3.6.2</span> Árvore de Derivação SLD</h3>
<p>Para a consulta <code>?- ancestral(joao, X).</code> com programa:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>ancestral(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Y</span>) <span class="kw">:-</span> pai(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Y</span>)<span class="kw">.</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>ancestral(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Z</span>) <span class="kw">:-</span> pai(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Y</span>)<span class="kw">,</span> ancestral(<span class="dt">Y</span><span class="kw">,</span> <span class="dt">Z</span>)<span class="kw">.</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>pai(joao<span class="kw">,</span> pedro)<span class="kw">.</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>pai(pedro<span class="kw">,</span> ana)<span class="kw">.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="shell"><code>?- ancestral(joao, X)
├─ (regra 1) pai(joao, X) ──→ X=pedro 
└─ (regra 2) pai(joao, Y), ancestral(Y, X)
   └─ Y=pedro, ancestral(pedro, X)
      ├─ (regra 1) pai(pedro, X) ──→ X=ana 
      └─ (regra 2) pai(pedro, Z), ancestral(Z, X) ──→ falha</code></pre>
</section>
<section id="complexidade-e-limitações" class="level3" data-number="3.6.3">
<h3 data-number="3.6.3" class="anchored" data-anchor-id="complexidade-e-limitações"><span class="header-section-number">3.6.3</span> Complexidade e Limitações</h3>
<ul>
<li><strong>Decidibilidade</strong>: Programas Prolog podem não terminar;</li>
<li><strong>Completude</strong>: SLD-resolution é completa para Cláusulas de Horn;</li>
<li><strong>Complexidade</strong>: Exponencial no pior caso (backtracking);</li>
<li><strong>Ordem das cláusulas</strong>: Afeta eficiência e terminação.</li>
</ul>
<div class="sourceCode" id="cb14"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">% Programa que não termina</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>loop(<span class="dt">X</span>) <span class="kw">:-</span> loop(<span class="dt">X</span>)<span class="kw">.</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co">% Solução: reordenar para casos base primeiro</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>fatorial(<span class="dv">0</span><span class="kw">,</span> <span class="dv">1</span>) <span class="kw">:-</span> <span class="kw">!.</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>fatorial(<span class="dt">N</span><span class="kw">,</span> <span class="dt">F</span>) <span class="kw">:-</span> <span class="dt">N</span> <span class="dt">&gt;</span> <span class="dv">0</span><span class="kw">,</span> <span class="dt">N1</span> <span class="dt">is</span> <span class="dt">N</span><span class="dv">-1</span><span class="kw">,</span> fatorial(<span class="dt">N1</span><span class="kw">,</span> <span class="dt">F1</span>)<span class="kw">,</span> <span class="dt">F</span> <span class="dt">is</span> <span class="dt">N</span> <span class="dt">*</span> <span class="dt">F1</span><span class="kw">.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="executando-código-no-swish" class="level2" data-number="3.7">
<h2 data-number="3.7" class="anchored" data-anchor-id="executando-código-no-swish"><span class="header-section-number">3.7</span> Executando Código no SWISH</h2>
<section id="passo-1-escrever-o-programa" class="level3" data-number="3.7.1">
<h3 data-number="3.7.1" class="anchored" data-anchor-id="passo-1-escrever-o-programa"><span class="header-section-number">3.7.1</span> Passo 1: Escrever o Programa</h3>
<p>Em um arquivo novo, no <strong>editor</strong> (lado esquerdo), digite fatos e regras:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">% Base de conhecimento sobre família</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>pai(joao<span class="kw">,</span> pedro)<span class="kw">.</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>pai(pedro<span class="kw">,</span> ana)<span class="kw">.</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>mae(maria<span class="kw">,</span> pedro)<span class="kw">.</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>mae(ana<span class="kw">,</span> carlos)<span class="kw">.</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co">% Regra para definir genitor</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>genitor(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Y</span>) <span class="kw">:-</span> pai(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Y</span>)<span class="kw">.</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>genitor(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Y</span>) <span class="kw">:-</span> mae(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Y</span>)<span class="kw">.</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="co">% Regra para definir avô</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>avo(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Z</span>) <span class="kw">:-</span> genitor(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Y</span>)<span class="kw">,</span> genitor(<span class="dt">Y</span><span class="kw">,</span> <span class="dt">Z</span>)<span class="kw">.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="passo-2-salvar-e-carregar" class="level3" data-number="3.7.2">
<h3 data-number="3.7.2" class="anchored" data-anchor-id="passo-2-salvar-e-carregar"><span class="header-section-number">3.7.2</span> Passo 2: Salvar e Carregar</h3>
<ul>
<li>Para salvar um programa, você precisa estar logado no SWISH. Pode logar com o sua conta do Google ou com o StackOverflow.</li>
<li>Clique no menu <strong>File/Save</strong> para salvar o programa</li>
<li>Uma vez salvo, o programa é automaticamente carregado na memória do Prolog</li>
</ul>
</section>
<section id="passo-3-fazer-consultas" class="level3" data-number="3.7.3">
<h3 data-number="3.7.3" class="anchored" data-anchor-id="passo-3-fazer-consultas"><span class="header-section-number">3.7.3</span> Passo 3: Fazer Consultas</h3>
<p>No <strong>console</strong> (lado direito), digite consultas:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">?-</span> pai(joao<span class="kw">,</span> pedro)<span class="kw">.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Resposta esperada</strong>: <code>true.</code></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">?-</span> genitor(<span class="dt">X</span><span class="kw">,</span> pedro)<span class="kw">.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Resposta esperada</strong>: <code>X = joao ; X = maria.</code></p>
</section>
</section>
<section id="interpretando-respostas" class="level2" data-number="3.8">
<h2 data-number="3.8" class="anchored" data-anchor-id="interpretando-respostas"><span class="header-section-number">3.8</span> Interpretando Respostas</h2>
<section id="respostas-simples" class="level3" data-number="3.8.1">
<h3 data-number="3.8.1" class="anchored" data-anchor-id="respostas-simples"><span class="header-section-number">3.8.1</span> Respostas Simples</h3>
<ul>
<li><strong><code>true.</code></strong> → A consulta é verdadeira;</li>
<li><strong><code>false.</code></strong> → A consulta é falsa/não pode ser provada.</li>
</ul>
</section>
<section id="respostas-com-variáveis" class="level3" data-number="3.8.2">
<h3 data-number="3.8.2" class="anchored" data-anchor-id="respostas-com-variáveis"><span class="header-section-number">3.8.2</span> Respostas com Variáveis</h3>
<div class="sourceCode" id="cb18"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">?-</span> pai(<span class="dt">X</span><span class="kw">,</span> pedro)<span class="kw">.</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="dt">X</span> <span class="kw">=</span> joao<span class="kw">.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>O Prolog encontrou que <code>X = joao</code> satisfaz a consulta.</p>
</section>
<section id="múltiplas-soluções" class="level3" data-number="3.8.3">
<h3 data-number="3.8.3" class="anchored" data-anchor-id="múltiplas-soluções"><span class="header-section-number">3.8.3</span> Múltiplas Soluções</h3>
<div class="sourceCode" id="cb19"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">?-</span> genitor(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Y</span>)<span class="kw">.</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="dt">X</span> <span class="kw">=</span> joao<span class="kw">,</span> <span class="dt">Y</span> <span class="kw">=</span> pedro <span class="kw">;</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="dt">X</span> <span class="kw">=</span> pedro<span class="kw">,</span> <span class="dt">Y</span> <span class="kw">=</span> ana <span class="kw">;</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="dt">X</span> <span class="kw">=</span> maria<span class="kw">,</span> <span class="dt">Y</span> <span class="kw">=</span> pedro <span class="kw">;</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="dt">X</span> <span class="kw">=</span> ana<span class="kw">,</span> <span class="dt">Y</span> <span class="kw">=</span> carlos<span class="kw">.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Use <strong><code>;</code></strong> (ponto e vírgula) ou <strong>barra de espaço</strong> para ver a próxima solução;</li>
<li>O Prolog mostra <strong>todas</strong> as combinações possíveis.</li>
</ul>
</section>
<section id="forçando-múltiplas-respostas" class="level3" data-number="3.8.4">
<h3 data-number="3.8.4" class="anchored" data-anchor-id="forçando-múltiplas-respostas"><span class="header-section-number">3.8.4</span> Forçando Múltiplas Respostas</h3>
<p>Após uma resposta, você pode:</p>
<ul>
<li><strong>Pressionar <code>;</code></strong> para ver mais soluções;</li>
<li><strong>Pressionar <code>.</code></strong> (ponto) para parar.</li>
</ul>
</section>
</section>
<section id="aplicações-em-ciência-da-computação" class="level2" data-number="3.9">
<h2 data-number="3.9" class="anchored" data-anchor-id="aplicações-em-ciência-da-computação"><span class="header-section-number">3.9</span> Aplicações em Ciência da Computação</h2>
<section id="sistemas-especialistas-e-representação-de-conhecimento" class="level3" data-number="3.9.1">
<h3 data-number="3.9.1" class="anchored" data-anchor-id="sistemas-especialistas-e-representação-de-conhecimento"><span class="header-section-number">3.9.1</span> 1. Sistemas Especialistas e Representação de Conhecimento</h3>
<div class="sourceCode" id="cb20"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">% Sistema de diagnóstico médico</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>sintoma(joao<span class="kw">,</span> febre)<span class="kw">.</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>sintoma(joao<span class="kw">,</span> tosse)<span class="kw">.</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>sintoma(maria<span class="kw">,</span> febre)<span class="kw">.</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>sintoma(maria<span class="kw">,</span> dor_cabeca)<span class="kw">.</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co">% Regras de diagnóstico</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>diagnostico(<span class="dt">Paciente</span><span class="kw">,</span> gripe) <span class="kw">:-</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>    sintoma(<span class="dt">Paciente</span><span class="kw">,</span> febre)<span class="kw">,</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>    sintoma(<span class="dt">Paciente</span><span class="kw">,</span> tosse)<span class="kw">,</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">\+</span> sintoma(<span class="dt">Paciente</span><span class="kw">,</span> erupcao)<span class="kw">.</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>diagnostico(<span class="dt">Paciente</span><span class="kw">,</span> enxaqueca) <span class="kw">:-</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>    sintoma(<span class="dt">Paciente</span><span class="kw">,</span> dor_cabeca)<span class="kw">,</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>    sintoma(<span class="dt">Paciente</span><span class="kw">,</span> nausea)<span class="kw">.</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a><span class="co">% Incerteza bayesiana (extensão)</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>diagnostico_probabilistico(<span class="dt">Paciente</span><span class="kw">,</span> <span class="dt">Doenca</span><span class="kw">,</span> <span class="dt">Prob</span>) <span class="kw">:-</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>    findall(<span class="dt">S</span><span class="kw">,</span> sintoma(<span class="dt">Paciente</span><span class="kw">,</span> <span class="dt">S</span>)<span class="kw">,</span> <span class="dt">Sintomas</span>)<span class="kw">,</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>    calcular_probabilidade(<span class="dt">Sintomas</span><span class="kw">,</span> <span class="dt">Doenca</span><span class="kw">,</span> <span class="dt">Prob</span>)<span class="kw">.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="processamento-de-linguagem-natural" class="level3" data-number="3.9.2">
<h3 data-number="3.9.2" class="anchored" data-anchor-id="processamento-de-linguagem-natural"><span class="header-section-number">3.9.2</span> 2. Processamento de Linguagem Natural</h3>
<div class="sourceCode" id="cb21"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co">% Gramática de cláusulas definidas (DCG)</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>sentenca <span class="kw">--&gt;</span> sintagma_nominal<span class="kw">,</span> sintagma_verbal<span class="kw">.</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>sintagma_nominal <span class="kw">--&gt;</span> determinante<span class="kw">,</span> substantivo<span class="kw">.</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>sintagma_verbal <span class="kw">--&gt;</span> verbo<span class="kw">,</span> sintagma_nominal<span class="kw">.</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>determinante <span class="kw">--&gt;</span> [o]<span class="kw">.</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>determinante <span class="kw">--&gt;</span> [a]<span class="kw">.</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>substantivo <span class="kw">--&gt;</span> [gato]<span class="kw">.</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>substantivo <span class="kw">--&gt;</span> [rato]<span class="kw">.</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>verbo <span class="kw">--&gt;</span> [persegue]<span class="kw">.</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="co">% Parsing</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="fu">?-</span> sentenca([o, gato, persegue, o, rato]<span class="kw">,</span> [])<span class="kw">.</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a><span class="co">% true - sentença válida</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="co">% Geração</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a><span class="fu">?-</span> sentenca(<span class="dt">S</span><span class="kw">,</span> [])<span class="kw">.</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a><span class="co">% S = [o, gato, persegue, o, rato]</span></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a><span class="co">% S = [o, gato, persegue, a, rato]</span></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a><span class="co">% ... (todas as combinações válidas)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="limitações-e-considerações-de-performance" class="level2" data-number="3.10">
<h2 data-number="3.10" class="anchored" data-anchor-id="limitações-e-considerações-de-performance"><span class="header-section-number">3.10</span> Limitações e Considerações de Performance</h2>
<section id="complexidade-computacional" class="level3" data-number="3.10.1">
<h3 data-number="3.10.1" class="anchored" data-anchor-id="complexidade-computacional"><span class="header-section-number">3.10.1</span> Complexidade Computacional</h3>
<ul>
<li><strong>Consultas ground</strong>: Tempo linear no tamanho do programa;</li>
<li><strong>Consultas com variáveis</strong>: Potencialmente exponencial;</li>
<li><strong>Programas recursivos</strong>: Podem não terminar;</li>
<li><strong>Espaço</strong>: Pilha de escolhas pode crescer exponencialmente.</li>
</ul>
</section>
<section id="otimizações-modernas" class="level3" data-number="3.10.2">
<h3 data-number="3.10.2" class="anchored" data-anchor-id="otimizações-modernas"><span class="header-section-number">3.10.2</span> Otimizações Modernas</h3>
<div class="sourceCode" id="cb22"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">% Tabling (memoização) - SWI-Prolog</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="kw">:-</span> table fibonacci<span class="fu">/</span><span class="dv">2</span><span class="kw">.</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>fibonacci(<span class="dv">0</span><span class="kw">,</span> <span class="dv">0</span>) <span class="kw">:-</span> <span class="kw">!.</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>fibonacci(<span class="dv">1</span><span class="kw">,</span> <span class="dv">1</span>) <span class="kw">:-</span> <span class="kw">!.</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>fibonacci(<span class="dt">N</span><span class="kw">,</span> <span class="dt">F</span>) <span class="kw">:-</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">N</span> <span class="dt">&gt;</span> <span class="dv">1</span><span class="kw">,</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">N1</span> <span class="dt">is</span> <span class="dt">N</span><span class="dv">-1</span><span class="kw">,</span> <span class="dt">N2</span> <span class="dt">is</span> <span class="dt">N</span><span class="dv">-2</span><span class="kw">,</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    fibonacci(<span class="dt">N1</span><span class="kw">,</span> <span class="dt">F1</span>)<span class="kw">,</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    fibonacci(<span class="dt">N2</span><span class="kw">,</span> <span class="dt">F2</span>)<span class="kw">,</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">F</span> <span class="dt">is</span> <span class="dt">F1</span> <span class="dt">+</span> <span class="dt">F2</span><span class="kw">.</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="co">% Constraint Logic Programming (CLP)</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a><span class="kw">:-</span> use_module(library(clpfd))<span class="kw">.</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>sudoku(<span class="dt">Vars</span>) <span class="kw">:-</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">Vars</span> <span class="kw">=</span> [<span class="dt">X11</span>,<span class="dt">X12</span>,<span class="dt">X13</span>,<span class="dt">X21</span>,<span class="dt">X22</span>,<span class="dt">X23</span>,<span class="dt">X31</span>,<span class="dt">X32</span>,<span class="dt">X33</span>]<span class="kw">,</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>    <span class="dt">Vars</span> ins <span class="dv">1</span>..<span class="dv">3</span><span class="kw">,</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>    all_different([<span class="dt">X11</span>,<span class="dt">X12</span>,<span class="dt">X13</span>])<span class="kw">,</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>    all_different([<span class="dt">X21</span>,<span class="dt">X22</span>,<span class="dt">X23</span>])<span class="kw">,</span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>    all_different([<span class="dt">X31</span>,<span class="dt">X32</span>,<span class="dt">X33</span>])<span class="kw">,</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>    all_different([<span class="dt">X11</span>,<span class="dt">X21</span>,<span class="dt">X31</span>])<span class="kw">,</span></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>    all_different([<span class="dt">X12</span>,<span class="dt">X22</span>,<span class="dt">X32</span>])<span class="kw">,</span></span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>    all_different([<span class="dt">X13</span>,<span class="dt">X23</span>,<span class="dt">X33</span>])<span class="kw">.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="boas-práticas-para-eficiência" class="level3" data-number="3.10.3">
<h3 data-number="3.10.3" class="anchored" data-anchor-id="boas-práticas-para-eficiência"><span class="header-section-number">3.10.3</span> Boas Práticas para Eficiência</h3>
<ol type="1">
<li><strong>Ordenação de cláusulas</strong>: Casos base primeiro;</li>
<li><strong>Uso criterioso do cut</strong>: Evitar backtracking desnecessário;</li>
<li><strong>Tail recursion</strong>: Para evitar estouro de pilha;</li>
<li><strong>Indexação</strong>: SWI-Prolog indexa primeiro argumento automaticamente;</li>
<li><strong>Avoid ground/1 quando possível</strong>: Use type checking específico.</li>
</ol>
<p>Nós vamos voltar a esses tópicos ao longo do livro, mas é importante ter uma visão geral desde o início. Principalmente porque a partir deste ponto, podemos incluir testes com o Prolog para validar a lógica que suporta o funcionamento do próprio Prolog. Mais um círculo virtuoso de aprendizado e desenvolvimento tecnológico.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/frankalcantara\.com");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./01-jornada-programacao-logica.html" class="pagination-link" aria-label="Introdução ao Paradigma da Programação Lógica">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introdução ao Paradigma da Programação Lógica</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./02-fundamentos-logica-proposicional.html" class="pagination-link" aria-label="Lógica de Primeira Ordem: Lógica Proposicional">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Lógica de Primeira Ordem: Lógica Proposicional</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Copyright © 2025 Frank de Alcantara</p>
<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/frankalcantara/logica/edit/main/01a-introducao-prolog.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/frankalcantara/logica/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>