<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   viewBox="0 0 800 650"
   version="1.1"
   id="svg53"
   sodipodi:docname="shift-reduce-complete.svg"
   inkscape:version="1.4 (86a8ad7, 2024-10-11)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview53"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="1.3153846"
     inkscape:cx="343.24561"
     inkscape:cy="325"
     inkscape:window-width="1920"
     inkscape:window-height="1057"
     inkscape:window-x="-8"
     inkscape:window-y="-8"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg53" />
  <!-- Background -->
  <rect
     width="800"
     height="650"
     fill="#f8f9fa"
     rx="10"
     ry="10"
     id="rect1" />
  <!-- Title -->
  <text
     x="400"
     y="40"
     font-family="Arial"
     font-size="24"
     text-anchor="middle"
     font-weight="bold"
     id="text1">Operações Shift-Reduce em Parsers LR(1)</text>
  <!-- Shift Operation (Left side) -->
  <rect
     x="50"
     y="80"
     width="340"
     height="210"
     fill="#e6f3ff"
     stroke="#2980b9"
     stroke-width="2"
     rx="5"
     ry="5"
     id="rect2" />
  <text
     x="220"
     y="104"
     font-family="Arial"
     font-size="20px"
     text-anchor="middle"
     font-weight="bold"
     fill="#2980b9"
     id="text2">Operação Shift</text>
  <!-- Shift explanation -->
  <text
     x="70"
     y="140"
     font-family="Arial"
     font-size="16"
     id="text3">Move um símbolo da entrada para a pilha:</text>
  <!-- Before shift -->
  <rect
     x="70"
     y="160"
     width="300"
     height="50"
     fill="#ffffff"
     stroke="#2980b9"
     stroke-width="1"
     rx="5"
     ry="5"
     id="rect3" />
  <text
     x="90"
     y="181"
     font-family="Arial"
     font-size="16px"
     font-weight="bold"
     id="text4">Pilha:</text>
  <text
     x="140"
     y="181"
     font-family="Arial"
     font-size="16px"
     id="text5">estado₀ T estado₁</text>
  <text
     x="90"
     y="201"
     font-family="Arial"
     font-size="16px"
     font-weight="bold"
     id="text6">Entrada:</text>
  <text
     x="150"
     y="201"
     font-family="Arial"
     font-size="16px"
     id="text7">* id ...</text>
  <!-- Arrow -->
  <path
     d="m 220,217 v 15"
     stroke="#2980b9"
     stroke-width="2"
     fill="none"
     marker-end="url(#arrow)"
     id="path7" />
  <text
     x="230"
     y="227"
     font-family="Arial"
     font-size="14px"
     fill="#2980b9"
     id="text8">shift</text>
  <!-- After shift -->
  <rect
     x="70"
     y="235"
     width="300"
     height="50"
     fill="#ffffff"
     stroke="#2980b9"
     stroke-width="1"
     rx="5"
     ry="5"
     id="rect8" />
  <text
     x="90"
     y="258"
     font-family="Arial"
     font-size="16px"
     font-weight="bold"
     id="text9">Pilha:</text>
  <text
     x="140"
     y="258"
     font-family="Arial"
     font-size="16px"
     id="text10">estado₀ T estado₁ * estado₂</text>
  <text
     x="90"
     y="278"
     font-family="Arial"
     font-size="16px"
     font-weight="bold"
     id="text11">Entrada:</text>
  <text
     x="150"
     y="278"
     font-family="Arial"
     font-size="16px"
     id="text12">id ...</text>
  <!-- Reduce Operation (Right side) -->
  <rect
     x="410"
     y="80"
     width="340"
     height="210"
     fill="#fff5e6"
     stroke="#d35400"
     stroke-width="2"
     rx="5"
     ry="5"
     id="rect12" />
  <text
     x="580"
     y="104"
     font-family="Arial"
     font-size="20px"
     text-anchor="middle"
     font-weight="bold"
     fill="#d35400"
     id="text13">Operação Reduce</text>
  <!-- Reduce explanation -->
  <text
     x="436.8421"
     y="133.1579"
     font-family="Arial"
     font-size="16px"
     id="text14"><tspan
       sodipodi:role="line"
       id="tspan53"
       x="436.8421"
       y="133.1579">Substitui elementos na pilha</tspan><tspan
       sodipodi:role="line"
       id="tspan54"
       x="436.8421"
       y="153.1579">por um símbolo não-terminal:</tspan></text>
  <!-- Before reduce -->
  <rect
     x="430"
     y="160"
     width="300"
     height="50"
     fill="#ffffff"
     stroke="#d35400"
     stroke-width="1"
     rx="5"
     ry="5"
     id="rect14" />
  <text
     x="450"
     y="181"
     font-family="Arial"
     font-size="16px"
     font-weight="bold"
     id="text15">Pilha:</text>
  <text
     x="500"
     y="181"
     font-family="Arial"
     font-size="16px"
     id="text16">... id estado₅</text>
  <text
     x="450"
     y="201"
     font-family="Arial"
     font-size="16px"
     font-weight="bold"
     id="text17">Entrada:</text>
  <text
     x="510"
     y="201"
     font-family="Arial"
     font-size="16px"
     id="text18">+ ...</text>
  <!-- Arrow -->
  <path
     d="m 580,217 v 15"
     stroke="#d35400"
     stroke-width="2"
     fill="none"
     marker-end="url(#arrow)"
     id="path18" />
  <text
     x="590"
     y="227"
     font-family="Arial"
     font-size="14px"
     fill="#d35400"
     id="text19">reduce F → id</text>
  <!-- After reduce -->
  <rect
     x="430"
     y="235"
     width="300"
     height="50"
     fill="#ffffff"
     stroke="#d35400"
     stroke-width="1"
     rx="5"
     ry="5"
     id="rect19" />
  <text
     x="450"
     y="258"
     font-family="Arial"
     font-size="16px"
     font-weight="bold"
     id="text20">Pilha:</text>
  <text
     x="500"
     y="258"
     font-family="Arial"
     font-size="16px"
     id="text21">... F estado₃</text>
  <text
     x="450"
     y="278"
     font-family="Arial"
     font-size="16px"
     font-weight="bold"
     id="text22">Entrada:</text>
  <text
     x="510"
     y="278"
     font-family="Arial"
     font-size="16px"
     id="text23">+ ...</text>
  <!-- Example parsing (Bottom) -->
  <rect
     x="50"
     y="320"
     width="700"
     height="300"
     fill="#f0f0f0"
     stroke="#333333"
     stroke-width="2"
     rx="5"
     ry="5"
     id="rect23" />
  <text
     x="400"
     y="346"
     font-family="Arial"
     font-size="20px"
     text-anchor="middle"
     font-weight="bold"
     id="text24">Exemplo de Parsing: id + id * id</text>
  <!-- Headers -->
  <text
     x="120"
     y="385"
     font-family="Arial"
     font-size="16"
     font-weight="bold"
     text-anchor="middle"
     id="text25">Pilha</text>
  <text
     x="350"
     y="385"
     font-family="Arial"
     font-size="16"
     font-weight="bold"
     text-anchor="middle"
     id="text26">Entrada</text>
  <text
     x="550"
     y="385"
     font-family="Arial"
     font-size="16"
     font-weight="bold"
     text-anchor="middle"
     id="text27">Ação</text>
  <text
     x="650"
     y="385"
     font-family="Arial"
     font-size="16"
     font-weight="bold"
     text-anchor="middle"
     id="text28">Regra</text>
  <!-- Parsing steps table -->
  <line
     x1="70"
     y1="395"
     x2="730"
     y2="395"
     stroke="#333333"
     stroke-width="2"
     id="line28" />
  <!-- Row 1 -->
  <text
     x="120"
     y="420"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text29">0</text>
  <text
     x="350"
     y="420"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text30">id + id * id $</text>
  <text
     x="550"
     y="420"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text31">shift</text>
  <text
     x="650"
     y="420"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text32">-</text>
  <line
     x1="70"
     y1="430"
     x2="730"
     y2="430"
     stroke="#333333"
     stroke-width="1"
     id="line32" />
  <!-- Row 2 -->
  <text
     x="120"
     y="455"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text33">0 id 5</text>
  <text
     x="350"
     y="455"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text34">+ id * id $</text>
  <text
     x="550"
     y="455"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text35">reduce</text>
  <text
     x="650"
     y="455"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text36">F → id</text>
  <line
     x1="70"
     y1="465"
     x2="730"
     y2="465"
     stroke="#333333"
     stroke-width="1"
     id="line36" />
  <!-- Row 3 -->
  <text
     x="120"
     y="490"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text37">0 F 3</text>
  <text
     x="350"
     y="490"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text38">+ id * id $</text>
  <text
     x="550"
     y="490"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text39">reduce</text>
  <text
     x="650"
     y="490"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text40">T → F</text>
  <line
     x1="70"
     y1="500"
     x2="730"
     y2="500"
     stroke="#333333"
     stroke-width="1"
     id="line40" />
  <!-- Row 4 -->
  <text
     x="120"
     y="525"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text41">0 T 2</text>
  <text
     x="350"
     y="525"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text42">+ id * id $</text>
  <text
     x="550"
     y="525"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text43">reduce</text>
  <text
     x="650"
     y="525"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text44">E → T</text>
  <line
     x1="70"
     y1="535"
     x2="730"
     y2="535"
     stroke="#333333"
     stroke-width="1"
     id="line44" />
  <!-- Row 5 -->
  <text
     x="120"
     y="560"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text45">0 E 1</text>
  <text
     x="350"
     y="560"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text46">+ id * id $</text>
  <text
     x="550"
     y="560"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text47">shift</text>
  <text
     x="650"
     y="560"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text48">-</text>
  <line
     x1="70"
     y1="570"
     x2="730"
     y2="570"
     stroke="#333333"
     stroke-width="1"
     id="line48" />
  <!-- Row 6 -->
  <text
     x="120"
     y="595"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text49">0 E 1 + 6 ... id 5</text>
  <text
     x="350"
     y="595"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text50">$</text>
  <text
     x="550"
     y="595"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text51">accept</text>
  <text
     x="650"
     y="595"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text52">-</text>
  <line
     x1="70"
     y1="605"
     x2="730"
     y2="605"
     stroke="#333333"
     stroke-width="1"
     id="line52" />
  <!-- Key abbreviation -->
  <text
     x="400"
     y="632"
     font-family="Arial"
     font-size="12px"
     text-anchor="middle"
     font-style="italic"
     id="text53">Nota: os passos intermediários foram omitidos</text>
  <!-- Defs for arrow markers -->
  <defs
     id="defs53">
    <marker
       id="arrow"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto"
       markerUnits="strokeWidth">
      <path
         d="M0,0 L0,6 L9,3 z"
         fill="#333"
         id="path53" />
    </marker>
  </defs>
</svg>
