<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Linguagens Formais e Autômatos - 18&nbsp; Fase 3 - Analisador Semântico</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./apend1.html" rel="next">
<link href="./fase2.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles/custom.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./fase1.html">Projetos da Disciplina - 2025-2</a></li><li class="breadcrumb-item"><a href="./fase3.html"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Fase 3 - Analisador Semântico</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Linguagens Formais e Autômatos</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/frankalcantara/linguagens-formais" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Disciplina de Linguagens Formais</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Analisadores Léxicos</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-lexico.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Analisadores Léxicos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01a-lexico.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Alfabetos, Linguagens e Strings: Fundamentos Matemáticos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-lexico.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Autômatos Finitos Determinísticos</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Analisadores Sintáticos</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-Gramaticas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Gramáticas e Linguagens Livres de Contexto</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-parsersLL1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Parsers LL(1): Começando a Análise Sintática</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-first-follow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Conjuntos FIRST e FOLLOW</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-parserLR1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Parsers <span class="math inline">\(LR(1)\)</span>: Análise Sintática <em>bottom-up</em></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-parserSLR1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Parsers <span class="math inline">\(SLR(1)\)</span>: A Ponte Entre Simplicidade e Poder</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Analisadores Semânticos</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-semantico.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Analisadores Semânticos: a determinação do significado</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10a-semantico.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Fundamentos Matemáticos da Semântica</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10b-semantico.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Julgamento de Tipos em Linguagens Imperativas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10c-semantico.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">O Sistema de Tipos Hindley-Milner</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-tabelaSimbolos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Tabela de Símbolos em Compiladores Modernos</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Geração de Código Intermediário</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14-GeraInter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Geração de Código Intermediário: A Linguagem Universal do Compilador</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Projetos da Disciplina - 2025-2</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./fase1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Fase 1 - Projeto Prático</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./fase2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Fase 2 - Analisador Sintático <span class="math inline">\(LL(1)\)</span></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./fase3.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Fase 3 - Analisador Semântico</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apend1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Apêndice 1: A Relação de Myhill-Nerode</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sol-exercicios.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Solução dos Exercícios</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./referencias.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Referências</span></a>
  </div>
</li>
    </ul>
    </div>
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Sumário</h2>
   
  <ul>
  <li><a href="#objetivo" id="toc-objetivo" class="nav-link active" data-scroll-target="#objetivo"><span class="header-section-number">18.1</span> 1. Objetivo</a></li>
  <li><a href="#descrição-do-trabalho" id="toc-descrição-do-trabalho" class="nav-link" data-scroll-target="#descrição-do-trabalho"><span class="header-section-number">18.2</span> 2. Descrição do Trabalho</a>
  <ul class="collapse">
  <li><a href="#características-da-linguagem" id="toc-características-da-linguagem" class="nav-link" data-scroll-target="#características-da-linguagem"><span class="header-section-number">18.2.1</span> 2.1. Características da Linguagem</a></li>
  <li><a href="#comandos-especiais" id="toc-comandos-especiais" class="nav-link" data-scroll-target="#comandos-especiais"><span class="header-section-number">18.2.2</span> 2.2. Comandos Especiais</a></li>
  <li><a href="#tomada-de-decisão-e-laços" id="toc-tomada-de-decisão-e-laços" class="nav-link" data-scroll-target="#tomada-de-decisão-e-laços"><span class="header-section-number">18.2.3</span> 2.3. Tomada de Decisão e Laços</a></li>
  </ul></li>
  <li><a href="#analisador-semântico" id="toc-analisador-semântico" class="nav-link" data-scroll-target="#analisador-semântico"><span class="header-section-number">18.3</span> 3. Analisador Semântico</a>
  <ul class="collapse">
  <li><a href="#gramática-de-atributos" id="toc-gramática-de-atributos" class="nav-link" data-scroll-target="#gramática-de-atributos"><span class="header-section-number">18.3.1</span> 3.1 Gramática de Atributos</a></li>
  <li><a href="#regras-aderentes-ao-documento" id="toc-regras-aderentes-ao-documento" class="nav-link" data-scroll-target="#regras-aderentes-ao-documento"><span class="header-section-number">18.3.2</span> Regras Aderentes ao Documento</a></li>
  </ul></li>
  <li><a href="#arquivos-de-teste" id="toc-arquivos-de-teste" class="nav-link" data-scroll-target="#arquivos-de-teste"><span class="header-section-number">18.4</span> 4. Arquivos de Teste</a></li>
  <li><a href="#hospedagem-no-github" id="toc-hospedagem-no-github" class="nav-link" data-scroll-target="#hospedagem-no-github"><span class="header-section-number">18.5</span> 5. Hospedagem no GitHub</a></li>
  <li><a href="#requisitos-do-código" id="toc-requisitos-do-código" class="nav-link" data-scroll-target="#requisitos-do-código"><span class="header-section-number">18.6</span> 6. Requisitos do Código</a></li>
  <li><a href="#sec-divisao-tarefas" id="toc-sec-divisao-tarefas" class="nav-link" data-scroll-target="#sec-divisao-tarefas"><span class="header-section-number">18.7</span> 7. Divisão de Tarefas para a Fase 3</a>
  <ul class="collapse">
  <li><a href="#aluno-1-função-definirgramaticaatributos-e-regras-semânticas" id="toc-aluno-1-função-definirgramaticaatributos-e-regras-semânticas" class="nav-link" data-scroll-target="#aluno-1-função-definirgramaticaatributos-e-regras-semânticas"><span class="header-section-number">18.7.1</span> 7.1. Aluno 1: Função <code>definirGramaticaAtributos</code> e Regras Semânticas</a></li>
  <li><a href="#aluno-2-função-analisarsemantica-e-verificação-de-tipos" id="toc-aluno-2-função-analisarsemantica-e-verificação-de-tipos" class="nav-link" data-scroll-target="#aluno-2-função-analisarsemantica-e-verificação-de-tipos"><span class="header-section-number">18.7.2</span> 7.2. Aluno 2: Função <code>analisarSemantica</code> e Verificação de Tipos</a></li>
  <li><a href="#aluno-3-funções-analisarsemanticamemoria-e-analisarsemanticacontrole" id="toc-aluno-3-funções-analisarsemanticamemoria-e-analisarsemanticacontrole" class="nav-link" data-scroll-target="#aluno-3-funções-analisarsemanticamemoria-e-analisarsemanticacontrole"><span class="header-section-number">18.7.3</span> 7.3. Aluno 3: Funções <code>analisarSemanticaMemoria</code> e <code>analisarSemanticaControle</code></a></li>
  <li><a href="#aluno-4-função-gerararvoreatribuida-interface-e-integração" id="toc-aluno-4-função-gerararvoreatribuida-interface-e-integração" class="nav-link" data-scroll-target="#aluno-4-função-gerararvoreatribuida-interface-e-integração"><span class="header-section-number">18.7.4</span> 7.4. Aluno 4: Função <code>gerarArvoreAtribuida</code>, Interface e Integração</a></li>
  </ul></li>
  <li><a href="#considerações-para-integração" id="toc-considerações-para-integração" class="nav-link" data-scroll-target="#considerações-para-integração"><span class="header-section-number">18.8</span> 8. Considerações para Integração</a></li>
  <li><a href="#avaliação" id="toc-avaliação" class="nav-link" data-scroll-target="#avaliação"><span class="header-section-number">18.9</span> 9. Avaliação</a>
  <ul class="collapse">
  <li><a href="#funcionalidades-do-analisador-70" id="toc-funcionalidades-do-analisador-70" class="nav-link" data-scroll-target="#funcionalidades-do-analisador-70"><span class="header-section-number">18.9.1</span> 9.1. Funcionalidades do Analisador (70%)</a></li>
  <li><a href="#organização-e-legibilidade-do-código-15" id="toc-organização-e-legibilidade-do-código-15" class="nav-link" data-scroll-target="#organização-e-legibilidade-do-código-15"><span class="header-section-number">18.9.2</span> 9.2. Organização e Legibilidade do Código (15%)</a></li>
  <li><a href="#robustez-15" id="toc-robustez-15" class="nav-link" data-scroll-target="#robustez-15"><span class="header-section-number">18.9.3</span> 9.3. Robustez (15%)</a></li>
  </ul></li>
  <li><a href="#sec-prova-autoria" id="toc-sec-prova-autoria" class="nav-link" data-scroll-target="#sec-prova-autoria"><span class="header-section-number">18.10</span> 10. Prova de Autoria</a></li>
  <li><a href="#entrega" id="toc-entrega" class="nav-link" data-scroll-target="#entrega"><span class="header-section-number">18.11</span> 11. Entrega</a>
  <ul class="collapse">
  <li><a href="#código-fonte" id="toc-código-fonte" class="nav-link" data-scroll-target="#código-fonte"><span class="header-section-number">18.11.1</span> 11.1. Código-fonte</a></li>
  <li><a href="#arquivos-de-teste-1" id="toc-arquivos-de-teste-1" class="nav-link" data-scroll-target="#arquivos-de-teste-1"><span class="header-section-number">18.11.2</span> 11.2. Arquivos de Teste</a></li>
  <li><a href="#documentação" id="toc-documentação" class="nav-link" data-scroll-target="#documentação"><span class="header-section-number">18.11.3</span> 11.3. Documentação</a></li>
  <li><a href="#arquivos-de-saída" id="toc-arquivos-de-saída" class="nav-link" data-scroll-target="#arquivos-de-saída"><span class="header-section-number">18.11.4</span> 11.4. Arquivos de Saída</a></li>
  <li><a href="#formato-de-execução" id="toc-formato-de-execução" class="nav-link" data-scroll-target="#formato-de-execução"><span class="header-section-number">18.11.5</span> 11.5. Formato de Execução</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/frankalcantara/linguagens-formais/edit/main/fase3.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/frankalcantara/linguagens-formais/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./fase1.html">Projetos da Disciplina - 2025-2</a></li><li class="breadcrumb-item"><a href="./fase3.html"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Fase 3 - Analisador Semântico</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Fase 3 - Analisador Semântico</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Este trabalho pode ser realizado em grupos de até <strong>4</strong> alunos. Grupos com mais de 4 membros terão o trabalho anulado. Leia todo este documento antes de começar e siga o seguinte código de ética: você pode discutir as questões com colegas, professores e amigos, consultar livros da disciplina, bibliotecas virtuais ou físicas, e a Internet em geral, em qualquer idioma. Com ou sem o uso de ferramentas de Inteligência Artificial. Contudo, o trabalho é seu e deve ser realizado por você. Plágio resultará na anulação do trabalho.</p>
<p>Os trabalhos entregues serão avaliados por uma ferramenta de Inteligência Artificial, que verificará a originalidade do texto e a autoria do código e o cumprimento de todas as regras de entrega e desenvolvimento. Para isso, o trabalho deve ser entregue em um repositório público no GitHub. O resultado desta avaliação automatizada será a nota base do trabalho, que poderá ser alterada em resultado da prova de autoria (ver seção 10, <a href="#sec-prova-autoria" class="quarto-xref"><span>Section 18.10</span></a>).</p>
<p>Este é um projeto “Melhorado com o uso de Ferramentas de Inteligência Artificial”. O uso de ferramentas de Inteligência Artificial não é apenas permitido, mas incentivado para tarefas específicas. No entanto, seu uso é governado por um princípio fundamental: <strong>Você é o arquiteto e o engenheiro; a Inteligência Artificial é sua assistente. Você mantém total responsabilidade pelo código que envia</strong>. Você poderá usar as ferramentas de Inteligência Artificial para:</p>
<ul>
<li>Gerar código repetitivo (<em>boilerplate</em>) e arquivos de configuração;</li>
<li>Explicar conceitos complexos e documentação;</li>
<li>Depurar mensagens de erro e sugerir correções;</li>
<li>Escrever testes unitários e documentação;</li>
<li>Otimizar e refatorar código existente;</li>
<li>Fazer <em>brainstorming</em> de ideias de projetos e arquitetura.</li>
</ul>
<p>Não é permitido:</p>
<ul>
<li><strong>Envio às Cegas</strong>: enviar código gerado por uma Inteligência Artificial sem revisão, compreensão ou modificação é uma violação da integridade acadêmica. Você deve ser capaz de explicar qualquer código do seu projeto, linha por linha. E provocará a anulação do trabalho</li>
<li><strong>Contornar o Aprendizado</strong>: usar Inteligência Artificial para completar os objetivos centrais de aprendizado por você é proibido, por exemplo, pedir a uma Inteligência Artificial para construir um componente inteiro do projeto que você tem a tarefa de aprender.</li>
<li><strong>Violação de Licenças</strong>: é proibido enviar código que viole as políticas de honestidade acadêmica da universidade, a licença dos dados de treinamento, ou qualquer outra restrição legal.</li>
</ul>
<section id="objetivo" class="level2" data-number="18.1">
<h2 data-number="18.1" class="anchored" data-anchor-id="objetivo"><span class="header-section-number">18.1</span> 1. Objetivo</h2>
<p>Pesquisar e praticar os conceitos de analisadores léxico, sintático e semântico desenvolvendo um programa em Python, C, ou <strong>C++</strong>. O objetivo é complementar o material de aula, aprimorando sua formação acadêmica e profissional por meio da construção de um analisador semântico sobre um <em>parser</em> <span class="math display">\[LL(1)\]</span> para a linguagem de programação simplificada que está descrita neste documento, utilizando como entrada a árvore sintática abstrata gerada na Fase 2.</p>
</section>
<section id="descrição-do-trabalho" class="level2" data-number="18.2">
<h2 data-number="18.2" class="anchored" data-anchor-id="descrição-do-trabalho"><span class="header-section-number">18.2</span> 2. Descrição do Trabalho</h2>
<p>O objetivo é desenvolver um programa capaz de:</p>
<ol type="1">
<li>Ler um arquivo de texto contendo o código-fonte de um programa escrito na linguagem especificada neste documento (uma expressão ou declaração por linha). Este arquivo deve estar em formato texto simples (.txt) usando apenas caracteres ASCII;</li>
<li>Utilizar a árvore sintática abstrata gerada pelo analisador sintático da Fase 2 como entrada;</li>
<li>Criar a Gramática de Atributos da linguagem descrita neste documento;</li>
<li>Implementar um analisador semântico para criar a árvore sintática abstrata atribuída.</li>
<li>Gerar um documento de análise semântica para o julgamento de tipos e outras verificações semânticas;</li>
<li>Detectar e reportar erros léxicos, sintáticos e semânticos de forma clara e informativa.</li>
</ol>
<p><strong>Observação MUITO IMPORTANTE:</strong> A partir dessa fase, todos os três analisadores serão utilizados em conjunto. Ou seja, o arquivo de teste irá passar pelo analisador léxico (Fase 1), depois pelo analisador sintático (Fase 2) e finalmente pelo analisador semântico (Fase 3). Portanto, é fundamental que o grupo utilize o mesmo formato de <em>tokens</em> definido na Fase 1 e a mesma gramática definida na Fase 2. Qualquer divergência entre as fases resultará em erros de integração e perda de pontos na avaliação.</p>
<p>Nesta fase, não será necessário gerar código Assembly.</p>
<section id="características-da-linguagem" class="level3" data-number="18.2.1">
<h3 data-number="18.2.1" class="anchored" data-anchor-id="características-da-linguagem"><span class="header-section-number">18.2.1</span> 2.1. Características da Linguagem</h3>
<p>As declarações continuam sendo escritas em notação polonesa reversa (RPN), no formato <code>(A B op)</code>, no qual <code>A</code> e <code>B</code> são operandos (números reais ou inteiros, ou referências a memória), e <code>op</code> é um operador aritmético, ou <em>keyword</em>, ou identificador, entre os listados neste documento.</p>
<p><strong>Operadores Suportados</strong>:</p>
<ul>
<li><strong>Adição</strong>: <code>+</code> (ex.: <code>(A B +)</code>);</li>
<li><strong>Subtração</strong>: <code>-</code> (ex.: <code>(A B -)</code>);</li>
<li><strong>Multiplicação</strong>: <code>*</code> (ex.: <code>(A B *)</code>);</li>
<li><strong>Divisão Real</strong>: <code>|</code> (ex.: <code>(A B |)</code>);</li>
<li><strong>Divisão Inteira</strong>: <code>/</code> (ex.: <code>(A B /)</code> para inteiros);</li>
<li><strong>Resto da Divisão Inteira</strong>: <code>%</code> (ex.: <code>(A B %)</code>);</li>
<li><strong>Potenciação</strong>: <code>^</code> (ex.: <code>(A B ^)</code>, onde B é um inteiro positivo).</li>
</ul>
<p><strong>Precisão Numérica</strong>:</p>
<p>A precisão dos números de ponto flutuante depende da arquitetura do processador onde o programa será executado para avaliação:</p>
<ul>
<li>Se a arquitetura for de 8 bits: use meia precisão (16 bits, IEEE 754);</li>
<li>Se a arquitetura for de 16 bits: use precisão simples (32 bits, IEEE 754);</li>
<li>Se a arquitetura for de 32 bits: use precisão dupla (64 bits, IEEE 754);</li>
<li>Se a arquitetura for de 64 bits: use precisão quádrupla (128 bits, IEEE 754).</li>
</ul>
<p>As operações de divisão inteira e resto são realizadas exclusivamente com números inteiros. <strong>Além disso, lembre-se, para esta avaliação você deve considerar apenas a arquitetura do Arduino Uno R3, Arduino Mega, ou qualquer outro processador de 8 bits.</strong></p>
<p><strong>Expressões Aninhadas</strong>:</p>
<p>Expressões podem ser aninhadas sem limite definido, por exemplo:</p>
<ul>
<li><code>(A (C D *) +)</code>: Soma <code>A</code> ao produto de <code>C</code> e <code>D</code>;</li>
<li><code>((A B %) (D E *) /)</code>: Divide o resto de <code>A</code> por <code>B</code> pelo produto de <code>D</code> e <code>E</code>;</li>
<li><code>((A B +) (C D *) |)</code>: Divide (usando divisão real) a soma de <code>A</code> e <code>B</code> pelo produto de <code>C</code> e <code>D</code>.</li>
</ul>
<p>Nestes exemplos, <code>A</code>, <code>B</code>, <code>C</code>, <code>D</code>, e <code>E</code> podem ser números literais ou referências a memórias.</p>
<p><strong>Tipos de Dados</strong>:</p>
<p>A linguagem suporta três tipos de dados:</p>
<ul>
<li><code>int</code>: Números inteiros</li>
<li><code>real</code> (ou <code>float</code>): Números de ponto flutuante</li>
<li><code>booleano</code>: Resultado de operações relacionais (usado internamente)</li>
</ul>
<p><strong>Observação</strong>: O tipo booleano não pode ser armazenado em memórias (MEM), sendo usado apenas como resultado de expressões relacionais em estruturas de controle.</p>
<p>Agora que temos laços e estruturas de decisão, nossa gramática deve ser capaz de lidar com expressões que retornam valores booleanos. Portanto, você deve implementar os seguintes operadores relacionais, tanto na gramática quanto no analisador semântico:</p>
<p><strong>Operadores Relacionais</strong> (retornam tipo booleano): - <code>&gt;</code> : maior que - <code>&lt;</code> : menor que<br>
- <code>&gt;=</code> : maior ou igual - <code>&lt;=</code> : menor ou igual - <code>==</code> : igual - <code>!=</code> : diferente</p>
<p>Todos aceitam operandos <code>int</code> ou <code>real</code> e retornam <code>booleano</code>.</p>
<p><strong>Observação</strong>: a inclusão dos operadores relacionais implica na necessidade de atualizar a gramática, o <em>parser</em> e o analisador semântico para suportar expressões que envolvem esses operadores, garantindo a correta verificação de tipos e a geração da árvore sintática abstrata atribuída.</p>
</section>
<section id="comandos-especiais" class="level3" data-number="18.2.2">
<h3 data-number="18.2.2" class="anchored" data-anchor-id="comandos-especiais"><span class="header-section-number">18.2.2</span> 2.2. Comandos Especiais</h3>
<p>A linguagem inclui os mesmos comandos especiais da fase anterior para manipulação de memória e resultados:</p>
<ul>
<li><code>(N RES)</code>: Retorna o resultado da expressão N linhas anteriores (<code>N</code> é um inteiro não negativo);</li>
<li><code>(V MEM)</code>: Armazena o valor real <code>V</code> em uma memória chamada <code>MEM</code>;</li>
<li><code>(MEM)</code>: Retorna o valor armazenado em <code>MEM</code>. Se a memória não foi inicializada, apresenta um erro semântico.</li>
</ul>
<p><strong>Observação</strong>: O tratamento de <code>MEM</code>, mudou desde a FASE 2. Agora, <code>MEM</code> retorna um erro semântico se não foi inicializada e deve ser verificada no analisador semântico.</p>
<p><strong>Regras de Escopo</strong>:</p>
<ul>
<li>Cada arquivo de texto representa um escopo de memória independente;</li>
<li><code>MEM</code> pode ser qualquer conjunto de letras maiúsculas (ex: <code>MEM</code>, <code>VAR</code>, <code>X</code>, <code>CONTADOR</code>);</li>
<li><code>RES</code> é uma keyword da linguagem.</li>
</ul>
</section>
<section id="tomada-de-decisão-e-laços" class="level3" data-number="18.2.3">
<h3 data-number="18.2.3" class="anchored" data-anchor-id="tomada-de-decisão-e-laços"><span class="header-section-number">18.2.3</span> 2.3. Tomada de Decisão e Laços</h3>
<p>A sua gramática agora deve incluir as estruturas de tomada de decisão e laços de repetição que foram criados na Fase 2. A sintaxe dessas estruturas deve ser definida em notação pós-fixada (RPN), e você deve criar os <em>tokens</em> necessários para representá-las.</p>
</section>
</section>
<section id="analisador-semântico" class="level2" data-number="18.3">
<h2 data-number="18.3" class="anchored" data-anchor-id="analisador-semântico"><span class="header-section-number">18.3</span> 3. Analisador Semântico</h2>
<p>O analisador semântico que você vai criar deve ser capaz de criar a árvore sintática abstrata atribuída, aplicando as regras da Gramática de Atributos que você vai definir. Além disso, ele deve realizar as seguintes verificações semânticas:</p>
<ul>
<li><strong>Julgamento de Tipos</strong>: Verificar se as operações são realizadas entre tipos compatíveis (inteiros e reais). Por exemplo, a operação de potência <code>^</code> deve ter um expoente inteiro;</li>
<li><strong>Verificação de Memória</strong>: Garantir que as memórias são inicializadas antes de serem usadas;</li>
<li><strong>Verificação de Comandos Especiais</strong>: Validar o uso correto dos comandos especiais <code>(N RES)</code>, <code>(V MEM)</code>, e <code>(MEM)</code>;</li>
<li><strong>Verificação de Estruturas de Controle</strong>: Garantir que as estruturas de tomada de decisão e laços de repetição estão corretamente formadas e que suas condições são válidas.</li>
<li><strong>Detecção de Erros Semânticos</strong>: Reportar erros semânticos com mensagens claras, indicando a linha do arquivo onde o erro ocorreu e a natureza do erro.</li>
<li><strong>Geração de Relatório</strong>: Criar um documento de análise semântica que detalhe todas as verificações realizadas, os erros encontrados, e a estrutura da árvore sintática abstrata atribuída.</li>
</ul>
<section id="gramática-de-atributos" class="level3" data-number="18.3.1">
<h3 data-number="18.3.1" class="anchored" data-anchor-id="gramática-de-atributos"><span class="header-section-number">18.3.1</span> 3.1 Gramática de Atributos</h3>
<p>Você deve definir a Gramática de Atributos para a linguagem descrita neste documento. A gramática deve incluir regras para todas as operações, comandos especiais, e estruturas de controle mencionadas. Cada regra de produção deve ser acompanhada por atributos que descrevem o tipo e o valor dos elementos envolvidos.</p>
<p>Esta gramática de atributos será composta de atributos e regras de produção e deve estar documentada em um arquivo markdown no repositório do GitHub.</p>
<p><strong>Tipos de Atributos</strong>:</p>
<ul>
<li><strong>Atributos Sintetizados</strong>: Calculados a partir dos atributos dos nós filhos (propagam informação de baixo para cima na árvore).</li>
<li><strong>Atributos Herdados</strong>: Calculados a partir dos atributos do nó pai ou irmãos (propagam informação de cima para baixo na árvore).</li>
</ul>
<p><strong>Atributos Principais</strong>:</p>
<p>Para cada não-terminal e terminal da gramática, você deve definir atributos como:</p>
<ul>
<li><code>tipo</code>: O tipo da expressão (inteiro, real, booleano)</li>
<li><code>valor</code>: O valor calculado da expressão (quando aplicável)</li>
<li><code>inicializada</code>: Para memórias, indica se foram inicializadas</li>
<li><code>escopo</code>: Nível de escopo da variável</li>
</ul>
<p><strong>Exemplos de Regras de Produção com Atributos</strong>:</p>
<p>A seguir, apresentamos exemplos de como as regras de produção devem ser documentadas com seus atributos e regras semânticas:</p>
</section>
<section id="regras-aderentes-ao-documento" class="level3" data-number="18.3.2">
<h3 data-number="18.3.2" class="anchored" data-anchor-id="regras-aderentes-ao-documento"><span class="header-section-number">18.3.2</span> Regras Aderentes ao Documento</h3>
<section id="adição-de-inteiros" class="level4" data-number="18.3.2.1">
<h4 data-number="18.3.2.1" class="anchored" data-anchor-id="adição-de-inteiros"><span class="header-section-number">18.3.2.1</span> 1. Adição de Inteiros</h4>
<p><span class="math display">\[\frac{\Gamma \vdash e_1 : \text{int} \quad \Gamma \vdash e_2 : \text{int}}{\Gamma \vdash e_1 + e_2 : \text{int}}\]</span></p>
</section>
<section id="adição-com-promoção-de-tipo" class="level4" data-number="18.3.2.2">
<h4 data-number="18.3.2.2" class="anchored" data-anchor-id="adição-com-promoção-de-tipo"><span class="header-section-number">18.3.2.2</span> 2. Adição com Promoção de Tipo</h4>
<p><span class="math display">\[\frac{\Gamma \vdash e_1 : \text{int} \quad \Gamma \vdash e_2 : \text{float}}{\Gamma \vdash e_1 + e_2 : \text{float}}\]</span></p>
<p>Ou usando a função promover_tipo do documento: <span class="math display">\[\frac{\Gamma \vdash e_1 : T_1 \quad \Gamma \vdash e_2 : T_2}{\Gamma \vdash e_1 + e_2 : \text{promover\_tipo}(T_1, T_2)}\]</span></p>
</section>
<section id="estrutura-condicional-simplificada" class="level4" data-number="18.3.2.3">
<h4 data-number="18.3.2.3" class="anchored" data-anchor-id="estrutura-condicional-simplificada"><span class="header-section-number">18.3.2.3</span> 3. Estrutura Condicional (Simplificada)</h4>
<p><span class="math display">\[\frac{\Gamma \vdash e_1 : \text{booleano} \quad \Gamma \vdash e_2 : T \quad \Gamma \vdash e_3 : T}{\Gamma \vdash \text{if } e_1 \text{ then } e_2 \text{ else } e_3 : T}\]</span></p>
</section>
<section id="declaração-de-variável" class="level4" data-number="18.3.2.4">
<h4 data-number="18.3.2.4" class="anchored" data-anchor-id="declaração-de-variável"><span class="header-section-number">18.3.2.4</span> 4. Declaração de Variável</h4>
<p><span class="math display">\[\frac{\Gamma \vdash e : T' \quad T' \leq T \quad \Gamma[x \mapsto T] \vdash e_{corpo} : T_{corpo}}{\Gamma \vdash (x : T \leftarrow e; e_{corpo}) : T_{corpo}}\]</span></p>
</section>
<section id="chamada-de-função" class="level4" data-number="18.3.2.5">
<h4 data-number="18.3.2.5" class="anchored" data-anchor-id="chamada-de-função"><span class="header-section-number">18.3.2.5</span> 5. Chamada de Função</h4>
<p><span class="math display">\[\frac{\text{tabela}(f) = (T_1, \ldots, T_n) \rightarrow T_{ret} \quad \Gamma \vdash e_i : T_i' \quad T_i' \leq T_i \text{ para } i=1..n}{\Gamma \vdash f(e_1, \ldots, e_n) : T_{ret}}\]</span></p>
<p><strong>Observações Importantes</strong>:</p>
<ol type="a">
<li>Os exemplos de regras acima usam notação infixa padrão para facilitar o entendimento. Ao implementar o analisador semântico, você deve adaptar essas regras para a notação RPN da linguagem. Por exemplo:</li>
</ol>
<ul>
<li>Notação infixa (nas regras): <code>if e₁ then e₂ else e₃</code></li>
<li>Notação RPN (no código): <code>(e₁ e₂ e₃ IF)</code></li>
</ul>
<p>A semântica de tipagem permanece a mesma, apenas a sintaxe de superfície muda.</p>
<ol start="2" type="a">
<li>Todas as regras devem verificar a compatibilidade de tipos antes de realizar operações.</li>
<li>A Tabela de Símbolos deve ser atualizada sempre que uma memória for declarada ou modificada.</li>
<li>Operações que misturam inteiros e reais devem promover o resultado para real.</li>
<li>Todas as verificações de erro devem incluir o número da linha onde o erro ocorreu.</li>
<li>A gramática completa deve cobrir todas as construções da linguagem descritas neste documento.</li>
</ol>
</section>
<section id="exemplo-de-aplicação-em-rpn" class="level4" data-number="18.3.2.6">
<h4 data-number="18.3.2.6" class="anchored" data-anchor-id="exemplo-de-aplicação-em-rpn"><span class="header-section-number">18.3.2.6</span> Exemplo de Aplicação em RPN</h4>
<p>Para a expressão: <code>(5 3 +)</code></p>
<p>Aplicação das regras: 1. <code>Γ ⊢ 5 : int</code> (literal inteiro) 2. <code>Γ ⊢ 3 : int</code> (literal inteiro) 3. Pela regra de adição: <code>Γ ⊢ 5 + 3 : int</code></p>
<p>Para a expressão: <code>(5.0 3 +)</code></p>
<p>Aplicação das regras: 1. <code>Γ ⊢ 5.0 : float</code> (literal real) 2. <code>Γ ⊢ 3 : int</code> (literal inteiro) 3. Pela regra de promoção: <code>Γ ⊢ 5.0 + 3 : float</code></p>
</section>
</section>
</section>
<section id="arquivos-de-teste" class="level2" data-number="18.4">
<h2 data-number="18.4" class="anchored" data-anchor-id="arquivos-de-teste"><span class="header-section-number">18.4</span> 4. Arquivos de Teste</h2>
<p>Fornecer um mínimo de <strong>3 arquivos de texto</strong>, cada um com pelo menos <strong>10 linhas</strong> de expressões segundo as especificações deste documento.</p>
<p><strong>Requisitos dos Arquivos de Teste</strong>:</p>
<ul>
<li>Cada arquivo deve incluir todas as operações (<code>+</code>, <code>-</code>, <code>*</code>, <code>|</code>, <code>/</code>, <code>%</code>, <code>^</code>);</li>
<li>Cada arquivo deve incluir comandos especiais (<code>(N RES)</code>, <code>(V MEM)</code>, <code>(MEM)</code>);</li>
<li>Cada arquivo deve incluir pelo menos um laço de repetição;</li>
<li>Cada arquivo deve incluir pelo menos uma tomada de decisão;</li>
<li>Os testes devem incluir literais inteiros, reais e o uso de memórias (variáveis);</li>
<li>Incluir casos de teste com erros semânticos para validar o tratamento de erros.</li>
</ul>
<p>Os arquivos devem estar no mesmo diretório do código-fonte e ser processados via argumento de linha de comando (ex.: <code>./compilar teste1.txt</code>).</p>
<p><strong>Atenção</strong>: não é preciso criar sistemas de testes automatizados. Contudo, é necessário incluir no readme as rotinas de testes que foram usadas para validar o funcionamento do analisador semântico.</p>
</section>
<section id="hospedagem-no-github" class="level2" data-number="18.5">
<h2 data-number="18.5" class="anchored" data-anchor-id="hospedagem-no-github"><span class="header-section-number">18.5</span> 5. Hospedagem no GitHub</h2>
<p>O projeto deve ser hospedado em um repositório público no GitHub criado exclusivamente para este projeto. O repositório deve ser criado por um dos alunos, que será o responsável por revisar e aprovar todos os pull requests antes do merge. Os demais alunos do grupo devem contribuir por meio de <em>pull requests</em>.</p>
<p><strong>Atenção:</strong> a colaboração entre os membros do grupo deve ser feita de forma equitativa. Todos os alunos devem contribuir com o projeto e entender o funcionamento completo do código.</p>
<p>O repositório deve conter:</p>
<ul>
<li>Código-fonte do programa (Python, C, ou <strong>C++</strong>);</li>
<li>Arquivos de teste (mínimo 3);</li>
<li>Documentação completa (README.md), constando:
<ul>
<li>Nome da instituição de ensino, ano, disciplina, professor;</li>
<li>Integrantes do grupo em ordem alfabética;</li>
<li>Instruções para compilar, executar e depurar o programa;</li>
<li>Exemplos de uso do programa.</li>
</ul></li>
<li>Arquivo markdown com a gramática de atributos</li>
<li>Arquivo markdown com árvore sintática da última execução do código.</li>
<li>Arquivo markdown com os erros semânticos detectados.</li>
<li>Arquivo markdown com o julgamento de tipos descrevendo as regras de dedução criadas e onde foram aplicadas na última execução do código.</li>
</ul>
<p>O repositório deve ser organizado com <em>commits</em> claros, as contribuições de cada um dos alunos devem estar registradas na forma de <em>pull requests</em>.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>O nome do repositório deve ser o nome do grupo no Canvas (ex.: <code>RA3_1</code>);</li>
<li>É fundamental que cada aluno documente suas contribuições de forma clara e detalhada;</li>
<li>O aluno não pode trocar o seu usuário no GitHub durante o desenvolvimento do projeto;</li>
<li>O aluno não pode alterar o repositório para privado;</li>
<li>O uso de <em>issues</em> no GitHub é encorajado para discutir tarefas e bugs;</li>
</ul>
</div>
</div>
</section>
<section id="requisitos-do-código" class="level2" data-number="18.6">
<h2 data-number="18.6" class="anchored" data-anchor-id="requisitos-do-código"><span class="header-section-number">18.6</span> 6. Requisitos do Código</h2>
<p>As primeiras linhas do código devem conter:</p>
<pre class="shell"><code>// Integrantes do grupo (ordem alfabética):
// Nome Completo 1 - username1
// Nome Completo 2 - username2
// Nome Completo 3 - username3
// Nome Completo 4 - username4
//
// Nome do grupo no Canvas: [Nome do Grupo]</code></pre>
<p><strong>Observação</strong>: os comentários acima são um exemplo para C/C++/Rust. Em Python, use <code>#</code> no lugar de <code>//</code>.</p>
<p>O programa deve receber o nome do arquivo de teste como argumento na linha de comando e rodar os analisadores léxico, sintático e semântico em sequência, gravando a árvore sintática abstrata atribuída e os demais arquivos de documentação em markdown. Os erros semânticos (se houver) devem ser apresentados no console.</p>
<p>O código deve ser escrito em Python, C, ou <strong>C++</strong>, com as funções nomeadas como está explicitado na Seção a seguir:</p>
</section>
<section id="sec-divisao-tarefas" class="level2" data-number="18.7">
<h2 data-number="18.7" class="anchored" data-anchor-id="sec-divisao-tarefas"><span class="header-section-number">18.7</span> 7. Divisão de Tarefas para a Fase 3</h2>
<p>Para resolver o problema de análise semântica da <strong>Fase 3</strong>, o trabalho será dividido entre até quatro alunos. Cada aluno será responsável por uma parte específica do sistema, com interfaces claras para facilitar a integração. Porém, todos os alunos devem entender o funcionamento completo do projeto.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Nota</strong>: As tarefas podem ser divididas da forma que cada grupo achar mais conveniente, desde que as funções e interfaces sejam respeitadas. <strong>Nota</strong>: A árvore sintática abstrata atribuída, além de estar na documentação, deve ser salva em JSON para facilitar a interoperabilidade com a próxima fase da disciplina. O formato deve incluir pelo menos: tipo do nó, tipo inferido, filhos, e número da linha.</p>
</div>
</div>
<section id="aluno-1-função-definirgramaticaatributos-e-regras-semânticas" class="level3" data-number="18.7.1">
<h3 data-number="18.7.1" class="anchored" data-anchor-id="aluno-1-função-definirgramaticaatributos-e-regras-semânticas"><span class="header-section-number">18.7.1</span> 7.1. Aluno 1: Função <code>definirGramaticaAtributos</code> e Regras Semânticas</h3>
<p><strong>Responsabilidades</strong>:</p>
<ul>
<li>Implementar <code>definirGramaticaAtributos()</code> para especificar as regras semânticas da linguagem.</li>
<li>Definir os atributos (sintetizados e herdados) para cada símbolo da gramática.</li>
<li>Documentar a gramática de atributos completa em formato EBNF, detalhando as regras de produção e as ações semânticas associadas.</li>
<li>Criar a estrutura de dados para a Tabela de Símbolos (ex: identificadores, tipos, escopo).</li>
</ul>
<p><strong>Tarefas Específicas</strong>:</p>
<ul>
<li>Escrever as regras de verificação de tipos para operadores aritméticos.</li>
<li>Definir as regras para validação de escopo e uso de memórias (<code>MEM</code>).</li>
<li>Especificar as ações semânticas para as estruturas de controle (decisão e laços).</li>
<li>Criar funções auxiliares: <code>inicializarTabelaSimbolos()</code>, <code>adicionarSimbolo()</code>, <code>buscarSimbolo()</code>.</li>
</ul>
<p><strong>Interface</strong>:</p>
<ul>
<li>Entrada: Nenhuma (a gramática de atributos é fixa).</li>
<li>Saída: Estrutura de dados contendo a gramática de atributos e uma Tabela de Símbolos inicializada.</li>
<li>Fornece as regras semânticas e a Tabela de Símbolos para a função <code>analisarSemantica()</code>.</li>
</ul>
</section>
<section id="aluno-2-função-analisarsemantica-e-verificação-de-tipos" class="level3" data-number="18.7.2">
<h3 data-number="18.7.2" class="anchored" data-anchor-id="aluno-2-função-analisarsemantica-e-verificação-de-tipos"><span class="header-section-number">18.7.2</span> 7.2. Aluno 2: Função <code>analisarSemantica</code> e Verificação de Tipos</h3>
<p><strong>Responsabilidades</strong>:</p>
<ul>
<li>Implementar <code>analisarSemantica(arvoreSintatica, gramaticaAtributos, tabelaSimbolos)</code> para percorrer a árvore sintática abstrata.</li>
<li>Aplicar as regras semânticas definidas na gramática de atributos para realizar a verificação de tipos.</li>
<li>Detectar e reportar erros de tipo com mensagens claras.</li>
<li>Implementar a coerção de tipos quando aplicável (ex: <code>inteiro</code> para <code>real</code> em operações mistas).</li>
</ul>
<p><strong>Formato de Mensagens de Erro</strong>:</p>
<pre class="shell"><code>ERRO SEMÂNTICO [Linha X]: &lt;descrição&gt;
Contexto: &lt;trecho relevante do código&gt;
``
Exemplo:
```shell
ERRO SEMÂNTICO [Linha 5]: Memória 'CONTADOR' utilizada sem inicialização
Contexto: (CONTADOR)</code></pre>
<p><strong>Tarefas Específicas</strong>:</p>
<ul>
<li>Implementar um algoritmo de percurso da árvore (ex: pós-ordem).</li>
<li>Validar a compatibilidade de tipos em expressões aritméticas.</li>
<li>Verificar se o expoente da potenciação é um inteiro.</li>
<li>Garantir que operandos de <code>/</code> e <code>%</code> são inteiros.</li>
<li>Criar funções de teste específicas para validação de tipos.</li>
</ul>
<p><strong>Interface</strong>:</p>
<ul>
<li>Entrada: Árvore sintática abstrata (da Fase 2), gramática de atributos e Tabela de Símbolos.</li>
<li>Saída: Árvore sintática com anotações de tipo ou um erro semântico.</li>
<li>Fornece a árvore anotada para a função <code>gerarArvoreAtribuida()</code>.</li>
</ul>
</section>
<section id="aluno-3-funções-analisarsemanticamemoria-e-analisarsemanticacontrole" class="level3" data-number="18.7.3">
<h3 data-number="18.7.3" class="anchored" data-anchor-id="aluno-3-funções-analisarsemanticamemoria-e-analisarsemanticacontrole"><span class="header-section-number">18.7.3</span> 7.3. Aluno 3: Funções <code>analisarSemanticaMemoria</code> e <code>analisarSemanticaControle</code></h3>
<p><strong>Responsabilidades</strong>:</p>
<ul>
<li>Implementar <code>analisarSemanticaMemoria(arvoreSintatica, tabelaSimbolos)</code> para validar o uso de memórias.</li>
<li>Implementar <code>analisarSemanticaControle(arvoreSintatica, tabelaSimbolos)</code> para validar estruturas de controle.</li>
<li>Garantir que as memórias (<code>MEM</code>) são inicializadas antes de serem lidas.</li>
<li>Validar o uso correto dos comandos <code>(N RES)</code> e <code>(V MEM)</code>.</li>
<li>Verificar se as condições nas estruturas de controle resultam em um valor booleano (ou equivalente).</li>
<li>Implementar a lógica de escopo para as variáveis.</li>
</ul>
<p><strong>Tarefas Específicas</strong>:</p>
<ul>
<li>Popular a Tabela de Símbolos com informações sobre a inicialização de memórias.</li>
<li>Implementar verificações para garantir que <code>(MEM)</code> não seja usado antes de <code>(V MEM)</code>.</li>
<li>Validar se o <code>N</code> em <code>(N RES)</code> é um inteiro não negativo e aponta para uma expressão válida.</li>
<li>Verificar se as condições em estruturas de decisão e laços são expressões válidas.</li>
<li>Validar o escopo correto de variáveis dentro de estruturas de controle aninhadas.</li>
<li>Criar arquivos de teste com erros semânticos relacionados a memórias e controle de fluxo.</li>
</ul>
<p><strong>Interface</strong>:</p>
<ul>
<li>Entrada: Árvore sintática, Tabela de Símbolos.</li>
<li>Saída: Lista de erros semânticos relacionados a memórias e estruturas de controle, além da Tabela de Símbolos atualizada.</li>
<li>As funções <code>analisarSemanticaMemoria</code> e <code>analisarSemanticaControle</code> devem ser chamadas sequencialmente após <code>analisarSemantica</code> do Aluno 2.</li>
<li>Colabora diretamente com o Aluno 2, recebendo a árvore já anotada com tipos e complementando com validações de memória e controle de fluxo.</li>
</ul>
</section>
<section id="aluno-4-função-gerararvoreatribuida-interface-e-integração" class="level3" data-number="18.7.4">
<h3 data-number="18.7.4" class="anchored" data-anchor-id="aluno-4-função-gerararvoreatribuida-interface-e-integração"><span class="header-section-number">18.7.4</span> 7.4. Aluno 4: Função <code>gerarArvoreAtribuida</code>, Interface e Integração</h3>
<p><strong>Responsabilidades</strong>:</p>
<ul>
<li>Implementar <code>gerarArvoreAtribuida(arvoreAnotada)</code> para construir a árvore sintática abstrata atribuída final.</li>
<li>Implementar a função <code>main()</code> que gerencia a execução sequencial dos analisadores (léxico, sintático e semântico).</li>
<li>Gerar os relatórios em markdown: árvore atribuída, julgamento de tipos e erros semânticos.</li>
<li>Coordenar a integração de todos os módulos.</li>
</ul>
<p><strong>Tarefas Específicas</strong>:</p>
<ul>
<li>Transformar a árvore sintática anotada em uma estrutura final (a árvore atribuída).</li>
<li>Implementar a impressão da árvore em formato de texto ou JSON.</li>
<li>Salvar a árvore atribuída e os relatórios nos arquivos de saída especificados.</li>
<li>Implementar o <code>main()</code> para chamar as funções das Fases 1, 2 e 3 em sequência.</li>
<li>Testar o sistema completo com os 3 arquivos de teste.</li>
</ul>
<p><strong>Interface</strong>:</p>
<ul>
<li>Entrada: Árvore sintática anotada pela análise semântica.</li>
<li>Saída: Árvore sintática abstrata atribuída e arquivos de relatório.</li>
<li>Gerencia a execução completa do compilador via linha de comando.</li>
</ul>
</section>
</section>
<section id="considerações-para-integração" class="level2" data-number="18.8">
<h2 data-number="18.8" class="anchored" data-anchor-id="considerações-para-integração"><span class="header-section-number">18.8</span> 8. Considerações para Integração</h2>
<p><strong>Interfaces</strong>: Concordar com os formatos de dados (ex.: estrutura da árvore sintática, formato da Tabela de Símbolos, árvore atribuída). <strong>Depuração</strong>: Testar cada módulo isoladamente antes da integração final.</p>
<p><strong>Passos de Integração</strong>:</p>
<ol type="1">
<li>Utilizar o sistema integrado das Fases 1 e 2 como base.</li>
<li>Inserir <code>definirGramaticaAtributos()</code> e a Tabela de Símbolos do Aluno 1.</li>
<li>Integrar a função <code>analisarSemantica()</code> (desenvolvida pelos Alunos 2 e 3).</li>
<li>Integrar <code>gerarArvoreAtribuida()</code> e atualizar o <code>main()</code> (do Aluno 4) para orquestrar todo o processo.</li>
<li>Realizar testes completos com os arquivos de teste, verificando a cadeia de execução.</li>
</ol>
<p><strong>Resolução de Conflitos</strong>: Discutir problemas imediatamente na sala ou de forma remota. <strong>Depuração Final</strong>: Testar o programa completo, validando a detecção de erros léxicos, sintáticos e semânticos, e a geração correta dos artefatos de saída.</p>
</section>
<section id="avaliação" class="level2" data-number="18.9">
<h2 data-number="18.9" class="anchored" data-anchor-id="avaliação"><span class="header-section-number">18.9</span> 9. Avaliação</h2>
<p>O trabalho será pré-avaliado de forma automática e novamente durante a prova de autoria, com os seguintes critérios:</p>
<section id="funcionalidades-do-analisador-70" class="level3" data-number="18.9.1">
<h3 data-number="18.9.1" class="anchored" data-anchor-id="funcionalidades-do-analisador-70"><span class="header-section-number">18.9.1</span> 9.1. Funcionalidades do Analisador (70%)</h3>
<ul>
<li>Implementação correta da verificação de tipos: Base da nota;</li>
<li>Falha na verificação de inicialização de memória: <strong>-20%</strong>;</li>
<li>Falha na validação das estruturas de controle: <strong>-20%</strong>;</li>
<li>Cada regra de tipo não verificada corretamente (ex: expoente inteiro): <strong>-10%</strong>;</li>
<li>Falha na geração da árvore sintática abstrata atribuída: <strong>-30%</strong>;</li>
<li>Gramática de atributos incompleta ou mal documentada: <strong>-20%</strong>.</li>
</ul>
</section>
<section id="organização-e-legibilidade-do-código-15" class="level3" data-number="18.9.2">
<h3 data-number="18.9.2" class="anchored" data-anchor-id="organização-e-legibilidade-do-código-15"><span class="header-section-number">18.9.2</span> 9.2. Organização e Legibilidade do Código (15%)</h3>
<ul>
<li>Código claro, adequadamente comentado (funções principais e lógica complexa) e bem estruturado. Na dúvida, use ferramentas de IA para melhorar a qualidade dos comentários usando como referência o Google <a href="https://google.github.io/styleguide/cppguide.html#Comments">C++ Style Guide</a> ou o <a href="https://peps.python.org/pep-0008/">PEP 8</a> para Python.</li>
<li>README bem escrito contendo, no mínimo:
<ul>
<li>Nome da instituição de ensino, ano, disciplina, professor;</li>
<li>Integrantes do grupo em ordem alfabética;</li>
<li>Instruções para compilar, executar e depurar;</li>
<li>Documentação da sintaxe das estruturas de controle.</li>
</ul></li>
<li>Repositório GitHub organizado com <em>commits</em> claros e <em>pull requests</em>.</li>
</ul>
<p><strong>Atenção</strong>: a participação dos integrantes do grupo é fundamental para o sucesso do projeto. Esta participação será avaliada automaticamente, o desbalanceamento na participação dos integrantes do grupo resultará na redução da nota final do trabalho.</p>
</section>
<section id="robustez-15" class="level3" data-number="18.9.3">
<h3 data-number="18.9.3" class="anchored" data-anchor-id="robustez-15"><span class="header-section-number">18.9.3</span> 9.3. Robustez (15%)</h3>
<ul>
<li>Tratamento de erros semânticos com mensagens claras, indicando linha e tipo de erro.</li>
<li>Testes cobrindo todos os casos semânticos (válidos e inválidos).</li>
<li>Geração correta de todos os arquivos de saída em markdown.</li>
</ul>
<blockquote class="blockquote">
<p><strong>Aviso</strong>: Trabalhos identificados como cópias terão a nota zerada.</p>
</blockquote>
</section>
</section>
<section id="sec-prova-autoria" class="level2" data-number="18.10">
<h2 data-number="18.10" class="anchored" data-anchor-id="sec-prova-autoria"><span class="header-section-number">18.10</span> 10. Prova de Autoria</h2>
<ul>
<li>Um aluno do grupo será sorteado usando um aplicativo online disponível em https://frankalcantara.com/sorteio.html.</li>
<li>Depois de explicar o projeto e responder as dúvidas do professor, o aluno sorteado escolherá um número de <span class="math inline">\(1\)</span> a <span class="math inline">\(10\)</span>, que corresponderá a uma pergunta sobre o projeto;</li>
<li>A falha na resposta, ou na explicação do projeto, implicará na redução de <strong>35%</strong> da nota provisória que tenha sido atribuída ao projeto. Esta redução será aplicada para todo o grupo.</li>
</ul>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Apesar da sugestão de divisão de tarefas, todos os alunos devem entender o funcionamento completo do projeto. O aluno sorteado para a prova de autoria deve ser capaz de responder qualquer pergunta sobre qualquer parte do projeto.</p>
</div>
</div>
</section>
<section id="entrega" class="level2" data-number="18.11">
<h2 data-number="18.11" class="anchored" data-anchor-id="entrega"><span class="header-section-number">18.11</span> 11. Entrega</h2>
<p>A entrega será um link para um repositório do GitHub contendo:</p>
<section id="código-fonte" class="level3" data-number="18.11.1">
<h3 data-number="18.11.1" class="anchored" data-anchor-id="código-fonte"><span class="header-section-number">18.11.1</span> 11.1. Código-fonte</h3>
<ul>
<li>Programa completo em Python, C, ou <strong>C++</strong>;</li>
<li>Todas as funções especificadas implementadas.</li>
</ul>
</section>
<section id="arquivos-de-teste-1" class="level3" data-number="18.11.2">
<h3 data-number="18.11.2" class="anchored" data-anchor-id="arquivos-de-teste-1"><span class="header-section-number">18.11.2</span> 11.2. Arquivos de Teste</h3>
<ul>
<li>Mínimo de <span class="math inline">\(3\)</span> arquivos com <span class="math inline">\(10\)</span> linhas, ou mais, cada;</li>
<li>Casos de teste válidos e inválidos (léxicos, sintáticos e semânticos);</li>
<li>Exemplos com estruturas de controle.</li>
</ul>
</section>
<section id="documentação" class="level3" data-number="18.11.3">
<h3 data-number="18.11.3" class="anchored" data-anchor-id="documentação"><span class="header-section-number">18.11.3</span> 11.3. Documentação</h3>
<ul>
<li><strong>README.md</strong> bem formatado com:
<ul>
<li>Informações institucionais;</li>
<li>Instruções de compilação e execução;</li>
<li>Sintaxe das estruturas de controle;</li>
<li>Exemplos de uso.</li>
</ul></li>
</ul>
</section>
<section id="arquivos-de-saída" class="level3" data-number="18.11.4">
<h3 data-number="18.11.4" class="anchored" data-anchor-id="arquivos-de-saída"><span class="header-section-number">18.11.4</span> 11.4. Arquivos de Saída</h3>
<p>Arquivos markdown gerados pela execução do programa:</p>
<ul>
<li>A gramática de atributos da linguagem.</li>
<li>O relatório de julgamento de tipos.</li>
<li>O relatório de erros semânticos encontrados.</li>
<li>A representação da árvore sintática abstrata atribuída de um arquivo de teste.</li>
</ul>
</section>
<section id="formato-de-execução" class="level3" data-number="18.11.5">
<h3 data-number="18.11.5" class="anchored" data-anchor-id="formato-de-execução"><span class="header-section-number">18.11.5</span> 11.5. Formato de Execução</h3>
<p>O programa deve ser executado com: <code>./compilar teste1.txt</code>.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/frankalcantara\.com");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./fase2.html" class="pagination-link" aria-label="Fase 2 - Analisador Sintático $LL(1)$">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Fase 2 - Analisador Sintático <span class="math inline">\(LL(1)\)</span></span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./apend1.html" class="pagination-link" aria-label="Apêndice 1: A Relação de Myhill-Nerode">
        <span class="nav-page-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Apêndice 1: A Relação de Myhill-Nerode</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Copyright © 2025 Frank de Alcantara</p>
<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/frankalcantara/linguagens-formais/edit/main/fase3.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/frankalcantara/linguagens-formais/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>